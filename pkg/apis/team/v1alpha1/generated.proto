/**
*
* Copyright (C) 2017 modeld authors
* For license information, see LICENSE.txt
*/
// This file was autogenerated by go-to-protobuf. Do not edit it manually!

syntax = "proto2";

package github.com.metaprov.modeldapi.pkg.apis.team.v1alpha1;

import "k8s.io/api/core/v1/generated.proto";
import "k8s.io/apimachinery/pkg/apis/meta/v1/generated.proto";
import "k8s.io/apimachinery/pkg/runtime/generated.proto";
import "k8s.io/apimachinery/pkg/runtime/schema/generated.proto";

// Package-wide variables from generator "generated".
option go_package = "v1alpha1";

// Alert is an alert that was raised during the incident
message Alert {
  // +optional
  optional string name = 1;

  // +optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time at = 2;
}

// Commnet represents a single comment in the conversation
message Comment {
  // ID is the comment ID. Used when replying to a comment.
  optional string id = 1;

  // AuthorRef is a reference to the author of the comment
  optional k8s.io.api.core.v1.ObjectReference authorRef = 2;

  // If this comment is a reply to an id
  // +kubebuilder:default:=""
  // +optional
  optional string replyTo = 3;

  // Content is the content of the comment
  // +kubebuilder:default:=""
  optional string content = 4;

  // PostedAt is the time when the comment was posted
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time postedAt = 5;
}

// +genclient
// +k8s:openapi-gen=true
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:subresource:status
// +kubebuilder:resource:path=conversations,shortName=cv,singular=conversation,categories={team,modeld}
// Conversation represents a comment about any conversation
message Conversation {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional ConversationSpec spec = 2;

  optional ConversationStatus status = 3;
}

// ConversationCondition describes the state of the conversation
message ConversationCondition {
  optional string type = 1;

  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// ConversationList is a list of Conversations
message ConversationList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Conversation items = 2;
}

// ConversationSpec defines the desired state of a Conversation
message ConversationSpec {
  // The target of the conversation
  optional k8s.io.api.core.v1.ObjectReference entityRef = 1;

  // Messages are the messages of the conversation.
  repeated Comment messages = 2;

  // The owner account name
  // +kubebuilder:default:=""
  // +optional
  optional string owner = 3;
}

// ConversationStatus is the current status of the conversation
message ConversationStatus {
  // +optional
  repeated ConversationCondition conditions = 1;
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:subresource:status
// +kubebuilder:resource:path=postmortems,shortName=pt,singular=postmortem,categories={team,modeld,all}
// PostMortem represent a post mortem
message PostMortem {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional PostMortemSpec spec = 2;

  optional PostMortemStatus status = 3;
}

// Post Morem Condition describes the state of a post mortem at a certain point.
message PostMortemCondition {
  // Type of bucket condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// PostMortemList is a list of PostMortems
message PostMortemList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated PostMortem items = 2;
}

// PostMortemSpec defines the desired state of PostMorem
message PostMortemSpec {
  // The target object of the post mortem for example a predictor.
  // +optional
  optional k8s.io.api.core.v1.ObjectReference entityRef = 1;

  // The place of the events, can be lab or serving site.
  // +optional
  optional k8s.io.api.core.v1.ObjectReference locationRef = 2;

  // Reference to accounts that handled the post-mortem
  // +optional
  repeated k8s.io.api.core.v1.ObjectReference handledBy = 3;

  // Alerts
  // +optional
  repeated Alert alert = 4;

  // Timeline is the list of events that happed during the events
  // +optional
  repeated TimeLineEvent timeline = 5;

  // Root cause
  // +kubebuilder:default:=""
  // +optional
  optional string rootCause = 6;

  // Summary of the post mortem
  // +kubebuilder:default:=""
  // +optional
  optional string summary = 7;

  // The owner account name
  // +kubebuilder:default:=""
  // +optional
  optional string owner = 8;
}

// PostMortemStatus defines the actual state of a PostMortem
message PostMortemStatus {
  // +optional
  repeated PostMortemCondition conditions = 1;
}

// +genclient
// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:subresource:status
// +kubebuilder:resource:path=runbooks,shortName=rb,singular=runbook,categories={data,modeld}
// RunBook represent a list of instructions for a specific operation
message RunBook {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional RunBookSpec spec = 2;

  optional RunBookStatus status = 3;
}

// RunBookCondition describes the state of a RunBook at a certain point.
message RunBookCondition {
  // Type of condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // The last time this condition was updated.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdateTime = 3;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 4;

  // The reason for the condition's last transition.
  optional string reason = 5;

  // A human readable message indicating details about the transition.
  optional string message = 6;
}

// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
// +kubebuilder:object:root=true
// RunBookList is a list of RunBooks
message RunBookList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated RunBook items = 2;
}

// RunBookSpec defines the desired state of RunBook
message RunBookSpec {
  // The target object of run book
  // +optional
  optional k8s.io.api.core.v1.ObjectReference entityRef = 1;

  // The author of the comment
  optional k8s.io.api.core.v1.ObjectReference authorRef = 2;

  // The owner account name
  // +kubebuilder:default:=""
  // +optional
  optional string owner = 3;
}

// RunBookStatus defines the actual state of a RunBook
message RunBookStatus {
  // +optional
  repeated RunBookCondition conditions = 1;
}

// TimeLineEvent
message TimeLineEvent {
  // +optional
  // +kubebuilder:default:=""
  optional string content = 1;

  // +optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time at = 2;
}

