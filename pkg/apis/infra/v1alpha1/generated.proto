/**
*
* Copyright (C) 2017 modela authors
* For license information, see LICENSE.txt
*/
// This file was autogenerated by go-to-protobuf. Do not edit it manually!

syntax = "proto2";

package github.com.metaprov.modelaapi.pkg.apis.infra.v1alpha1;

import "github.com/metaprov/modelaapi/pkg/apis/catalog/v1alpha1/generated.proto";
import "k8s.io/api/core/v1/generated.proto";
import "k8s.io/apimachinery/pkg/api/resource/generated.proto";
import "k8s.io/apimachinery/pkg/apis/meta/v1/generated.proto";
import "k8s.io/apimachinery/pkg/runtime/generated.proto";
import "k8s.io/apimachinery/pkg/runtime/schema/generated.proto";

// Package-wide variables from generator "generated".
option go_package = "github.com/metaprov/modelaapi/pkg/apis/infra/v1alpha1";

// Account represents a user or team in the system
// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Type",type="string",JSONPath=".spec.type",description=""
// +kubebuilder:printcolumn:name="Username",type="string",JSONPath=".spec.username",description=""
// +kubebuilder:printcolumn:name="Team",type="string",JSONPath=".spec.memberOf",description=""
// +kubebuilder:printcolumn:name="Phone",type="string",JSONPath=".spec.phone",description=""
// +kubebuilder:printcolumn:name="Email",type="string",JSONPath=".spec.email",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=accounts,shortName=acct,singular=account,categories={infra,modela}
message Account {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional AccountSpec spec = 2;

  optional AccountStatus status = 3;
}

// AccountCondition describes the state of a account at a certain point.
message AccountCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// AccountList represent list of accounts.
message AccountList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Account items = 2;
}

// AccountSpec defines the desired state of Account
message AccountSpec {
  // TenantRef is the account tenant
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 1;

  // Type is the type of account - user, group. default is user
  // +kubebuilder:default:=user
  // +kubebuilder:validation:Optional
  optional string type = 3;

  // UserName specifies the name of the account
  // +kubebuilder:validation:MinLength=4
  // +kubebuilder:validation:MaxLength=64
  // +kubebuilder:validation:Required
  // +required
  optional string username = 4;

  // First FileName is the user first name
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  // +kubebuilder:validation:MaxLength=64
  optional string firstName = 5;

  // LastName is the user last name
  // +kubebuilder:default:=""
  // +kubebuilder:validation:MaxLength=64
  // +kubebuilder:validation:Optional
  optional string lastName = 6;

  // Email specify the email of the user
  // +kubebuilder:default:=""
  // +kubebuilder:validation:MaxLength=64
  // +kubebuilder:validation:Required
  // +required
  optional string email = 7;

  // Phone specify the phone of the user
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  // +kubebuilder:validation:MaxLength=64
  optional string phone = 8;

  // User is admin. Admin have full control on other accounts.
  // +kubebuilder:default:=false
  // +kubebuilder:validation:Optional
  optional bool admin = 9;

  // Team indicates if this a team account.
  // +kubebuilder:default:=false
  // +kubebuilder:validation:Optional
  optional bool team = 10;

  // MemberOf is the team name of this account. An account can belong to one team
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string memberOf = 11;

  // Email account creation event to user (using the user email)
  // +kubebuilder:default:=false
  // +kubebuilder:validation:Optional
  optional bool emailPassword = 12;

  // User need to reset password upon login
  // +kubebuilder:default:=false
  // +kubebuilder:validation:Optional
  optional bool resetPassword = 13;

  // The clearence level of this account. The clearence level override user premissions.
  // +kubebuilder:default:=unclassified
  // +kubebuilder:validation:Optional
  optional string clearenceLevel = 17;

  // The avatar location
  // +kubebuilder:validation:Optional
  optional AvatarSpec avatar = 18;

  // List of favorite data product
  // +kubebuilder:validation:Optional
  repeated string favoriteProducts = 19;
}

// AccountStatus defines the actual state of the api object
message AccountStatus {
  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 1;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 2;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 3;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 4;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated AccountCondition conditions = 5;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Status",type="string",JSONPath=".status.phase",description=""
// +kubebuilder:printcolumn:name="Level",type="string",JSONPath=".spec.level",description=""
// +kubebuilder:printcolumn:name="Subject",type="string",JSONPath=".spec.subject",description=""
// +kubebuilder:printcolumn:name="Entity Namespace",type="string",JSONPath=".spec.entityRef.namespace",description=""
// +kubebuilder:printcolumn:name="Entity Name",type="string",JSONPath=".spec.entityRef.name",description=""
// +kubebuilder:printcolumn:name="Notifier",type="string",JSONPath=".spec.notifierName",description=""
// +kubebuilder:printcolumn:name="At",type="date",JSONPath=".status.at",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=alerts,singular=alert,categories={infra,modela}
message Alert {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional AlertSpec spec = 2;

  optional AlertStatus status = 3;
}

// AlertCondition describes the state of the license at a certain point.
message AlertCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// AlertList is a list of Alerts
message AlertList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Alert items = 2;
}

// AlertSpec defines the desired state of Alert
message AlertSpec {
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string subject = 1;

  // Alert Message
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string message = 2;

  // Scopes is the list of scopes for this token.
  // +kubebuilder:default:="normal"
  // +kubebuilder:validation:Optional
  optional string level = 3;

  // The subject entity
  optional k8s.io.api.core.v1.ObjectReference entityRef = 4;

  // +kubebuilder:default:=""
  // +kubebuilder:validation:Required
  // NotifierName is the name of the notifier used to fire the alert.
  optional string notifierName = 5;

  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 6;

  // the alert TTL. Measured from alert creation time. The default TTL is 1H.
  // +kubebuilder:default:=3600
  // +kubebuilder:validation:Optional
  optional int32 ttl = 7;

  // The actual information about the alerts
  // +kubebuilder:validation:Optional
  map<string, string> fields = 8;

  // TenantRef is the commit tenant
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 9;
}

// AlertStatus is the observed state of a Alert
message AlertStatus {
  // Phase is the phase of the model
  // +kubebuilder:default:="Pending"
  // +kubebuilder:validation:Optional
  optional string phase = 1;

  // The time when the alert was fired
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time at = 2;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 3;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 4;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 5;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 6;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated AlertCondition conditions = 7;
}

message AliCloudSpec {
  // +kubebuilder:default:=""
  optional string accessKey = 1;

  // +kubebuilder:default:=""
  optional string secretKey = 2;

  // +kubebuilder:default:=""
  optional string region = 3;

  // +kubebuilder:default:=""
  optional string host = 4;
}

// =================== Definitions of spec files for each type
// AthenaSpec defines the connection to Athena db
message AmazonAthenaSpec {
  // +kubebuilder:default:=""
  optional string hostName = 1;

  // UserName
  // +kubebuilder:default:=""
  optional string username = 2;

  // +kubebuilder:default:=""
  optional string password = 3;

  // +kubebuilder:default:=""
  optional string region = 4;

  // +kubebuilder:default:=""
  optional string url = 5;
}

message AmazonRedShiftSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5439
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 6;
}

// CassandraSpec defines the connection to cassandra
message ApacheCassandraSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

// ApacheDruid
message ApacheDrillSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

// ApacheDruid defines the connection to cassandra
message ApacheDruidSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

message ApacheHiveSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=10000
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string schema = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

message ApacheSparkSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5433
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string schema = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=apitokens,singular=apitoken,categories={infra,modela}
message ApiToken {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional ApiTokenSpec spec = 2;

  optional ApiTokenStatus status = 3;
}

// ApiTokenCondition describes the state of the license at a certain point.
message ApiTokenCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// ApiTokenList is a list of ApiTokens
message ApiTokenList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated ApiToken items = 2;
}

// ApiTokenSpec defines the desired state of ApiToken
message ApiTokenSpec {
  // User provided description
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string description = 1;

  // Scopes is the list of scopes for this token.
  repeated Scope scopes = 2;

  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 3;
}

// ApiTokenStatus is the observed state of a ApiToken
message ApiTokenStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 2;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated ApiTokenCondition conditions = 3;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Status",type="string",JSONPath=".status.phase",description=""
// +kubebuilder:printcolumn:name="Entity Namespace",type="string",JSONPath=".spec.entityRef.name",description=""
// +kubebuilder:printcolumn:name="Entity Name",type="string",JSONPath=".spec.entityRef.namespace",description=""
// +kubebuilder:printcolumn:name="Bucket",type="string",JSONPath=".spec.bucketName",description=""
// +kubebuilder:printcolumn:name="Path",type="string",JSONPath=".spec.path",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=attachments,singular=attachment,categories={infra,modela}
message Attachment {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional AttachmentSpec spec = 2;

  optional AttachmentStatus status = 3;
}

// AttachmentCondition describes the state of the license at a certain point.
message AttachmentCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// AttachmentList is a list of Attachments
message AttachmentList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Attachment items = 2;
}

// AttachmentSpec defines the desired state of Attachment
message AttachmentSpec {
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 1;

  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string description = 2;

  // Entity ref
  optional k8s.io.api.core.v1.ObjectReference entityRef = 3;

  // +kubebuilder:default:=""
  // Bucketname is the name of the bucket
  // +kubebuilder:validation:Optional
  optional string bucketName = 4;

  // Path to the full data file (e.g. csv file).
  // +kubebuilder:validation:Optional
  optional string path = 5;

  // TenantRef is the commit tenant
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 6;
}

// AttachmentStatus is the observed state of a Attachment
message AttachmentStatus {
  // Phase is the phase of the model
  // +kubebuilder:default:="Pending"
  // +kubebuilder:validation:Optional
  optional string phase = 1;

  // The time when the alert was fired
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time at = 2;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 3;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 4;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 5;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 6;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated AttachmentCondition conditions = 7;
}

message AvatarSpec {
  // +kubebuilder:default:=""
  // Bucketname is the name of the bucket holding the bucket name
  // +kubebuilder:validation:Optional
  optional string bucketName = 1;

  // Path to the full data file (e.g. csv file).
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string path = 2;
}

// //////////////////////////
// Cloud connection
// //////////////////////////
message AwsS3Spec {
  // Default zone.
  // +kubebuilder:default:=""
  optional string defaultRegion = 1;

  // Aws Access key. This is an hidden fields which are stored in the secret
  // +kubebuilder:default:=""
  optional string accessKey = 2;

  // Aws StorageSecret key. This is an hidden fields which are stored in the secret
  // +kubebuilder:default:=""
  optional string secretKey = 3;
}

// CassandraSpec defines the connection to cassandra
message AzureSQLDatabaseSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 1433
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string database = 5;

  // +kubebuilder:default:=""
  optional string url = 6;
}

message AzureStorageSpec {
  // +kubebuilder:default:=""
  optional string storageAccount = 1;

  // This is an hidden field which is stored in a p
  // +kubebuilder:default:=""
  optional string accessKey = 2;
}

message BitbucketSpec {
  // +kubebuilder:default:=""
  optional string token = 1;

  // +kubebuilder:default:=""
  optional string username = 2;

  // +kubebuilder:default:=""
  optional string ssh = 3;
}

message BoxSpec {
  // +kubebuilder:default:=""
  optional string token = 1;
}

message BucketResourceQuotas {
  // If true enable quate
  // +kubebuilder:default:=false
  // +kubebuilder:validation:Optional
  optional bool enabled = 1;

  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.api.resource.Quantity hardLimit = 2;
}

message ClickHouseSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=8123
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 6;
}

message CockroachDBSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5432
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Status",type="string",JSONPath=".status.phase",description=""
// +kubebuilder:printcolumn:name="Subject",type="string",JSONPath=".spec.subject",description=""
// +kubebuilder:printcolumn:name="Entity Namespace",type="string",JSONPath=".spec.entityRef.Name",description=""
// +kubebuilder:printcolumn:name="Entity Name",type="string",JSONPath=".spec.entityRef.Namespace",description=""
// +kubebuilder:printcolumn:name="At",type="date",JSONPath=".status.at",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=commits,singular=commit,categories={infra,modela}
message Commit {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional CommitSpec spec = 2;

  optional CommitStatus status = 3;
}

// CommitCondition describes the state of the license at a certain point.
message CommitCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// CommitList is a list of Commits
message CommitList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Commit items = 2;
}

// CommitSpec defines the desired state of Commit
message CommitSpec {
  // User provided commit message
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string message = 1;

  // The subject entity
  optional k8s.io.api.core.v1.ObjectReference entityRef = 2;

  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 3;

  // TenantRef is the commit tenant
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 4;
}

// CommitStatus is the observed state of a Commit
message CommitStatus {
  // Phase is the phase of the model
  // +kubebuilder:default:="Pending"
  // +kubebuilder:validation:Optional
  optional string phase = 1;

  // The time when the commit was completed
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time at = 2;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 3;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 4;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 5;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 6;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated CommitCondition conditions = 7;
}

// Connection define a connection to an external system (e.g. database, public cloud)
// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Provider",type="string",JSONPath=".spec.provider",description=""
// +kubebuilder:printcolumn:name="Category",type="string",JSONPath=".spec.category",description=""
// +kubebuilder:printcolumn:name="Secret",type="string",JSONPath=".spec.secretName",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=connections,shortName=conn,singular=connection,categories={infra,modela}
message Connection {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional ConnectionSpec spec = 2;

  optional ConnectionStatus status = 3;
}

// ConnectionCondition describes the state of a connection at a certain point.
message ConnectionCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 4;

  // The reason for the condition's last transition.
  optional string reason = 5;

  // A human readable message indicating details about the transition.
  optional string message = 6;
}

// +kubebuilder:object:root=true
// ConnectionList is a list of Connections.
message ConnectionList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Connection items = 2;
}

// ConnectionSpec defines the desired state of Connection
message ConnectionSpec {
  // TenantRef is the tenant of the connection
  // default to the default tenant
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 1;

  // The connection category
  // +kubebuilder:default:="general"
  // +kubebuilder:validation:Optional
  optional string category = 2;

  // Provider specifies the name api provider (E.g. aws)
  // +kubebuilder:validation:Required
  // +required
  optional string provider = 3;

  // SecretName is a reference to a secret which holds the connection credentials
  // +kubebuilder:validation:Required
  // +required
  optional k8s.io.api.core.v1.SecretReference secretRef = 4;

  // +kubebuilder:validation:Optional
  optional AmazonAthenaSpec athena = 5;

  // +kubebuilder:validation:Optional
  optional ApacheDrillSpec drill = 6;

  // +kubebuilder:validation:Optional
  optional ApacheDruidSpec druid = 7;

  // +kubebuilder:validation:Optional
  optional ApacheHiveSpec hive = 8;

  // +kubebuilder:validation:Optional
  optional AmazonRedShiftSpec redshift = 9;

  // +kubebuilder:validation:Optional
  optional DremioSpec dremio = 10;

  // +kubebuilder:validation:Optional
  optional DB2Spec db2 = 11;

  // +kubebuilder:validation:Optional
  optional GcpBigQuerySpec bigquery = 12;

  // +kubebuilder:validation:Optional
  optional ApacheCassandraSpec cassandra = 13;

  // +kubebuilder:validation:Optional
  optional AzureSQLDatabaseSpec azuresqldatabase = 14;

  // +kubebuilder:validation:Optional
  optional MongoDbSpec mongodb = 15;

  // +kubebuilder:validation:Optional
  optional MySqlSpec mysql = 16;

  // +kubebuilder:validation:Optional
  optional OdbcSpec odbc = 17;

  // +kubebuilder:validation:Optional
  optional OracleSpec oracle = 18;

  // +kubebuilder:validation:Optional
  optional PostgresSQLSpec postgres = 19;

  // +kubebuilder:validation:Optional
  optional PrestoSpec presto = 20;

  // +kubebuilder:validation:Optional
  optional SnowflakeSpec snowflake = 22;

  // +kubebuilder:validation:Optional
  optional SybaseSpec sybase = 23;

  // +kubebuilder:validation:Optional
  optional VerticaSpec vertica = 24;

  // +kubebuilder:validation:Optional
  optional CockroachDBSpec cockroachdb = 25;

  // +kubebuilder:validation:Optional
  optional ElasticSearchSpec elasticsearch = 26;

  // +kubebuilder:validation:Optional
  optional InformixSpec informix = 27;

  // +kubebuilder:validation:Optional
  optional SAPHanaSpec hana = 28;

  // +kubebuilder:validation:Optional
  optional TeradataSpec teradata = 29;

  // +kubebuilder:validation:Optional
  optional GcpSpannerSpec spanner = 30;

  // +kubebuilder:validation:Optional
  optional ApacheSparkSpec spark = 31;

  // +kubebuilder:validation:Optional
  optional MSSqlServerSpec mssqlserver = 32;

  // +kubebuilder:validation:Optional
  optional ClickHouseSpec clickhouse = 33;

  // +kubebuilder:validation:Optional
  optional GreenPlumSpec greenplum = 34;

  // +kubebuilder:validation:Optional
  optional CouchbaseSpec couchbase = 35;

  // +kubebuilder:validation:Optional
  optional ExasolSpec exasol = 36;

  // +kubebuilder:validation:Optional
  optional SqliteSpec sqlite = 37;

  // +kubebuilder:validation:Optional
  optional SingleStoreSpec singlestore = 38;

  // +kubebuilder:validation:Optional
  optional GoogleSheetsSpec gsheets = 39;

  // +kubebuilder:validation:Optional
  optional AzureStorageSpec azurestorage = 40;

  // +kubebuilder:validation:Optional
  optional AliCloudSpec alicloud = 41;

  // +kubebuilder:validation:Optional
  optional DigitalOceanSpec digitalocean = 42;

  // +kubebuilder:validation:Optional
  optional HetznerSpec hetzner = 43;

  // +kubebuilder:validation:Optional
  optional GcpStorageSpec gcpstorage = 45;

  // +kubebuilder:validation:Optional
  optional LinodeSpec linode = 46;

  // +kubebuilder:validation:Optional
  optional MinioSpec minio = 47;

  // +kubebuilder:validation:Optional
  optional OpenstackSpec openstack = 48;

  // +kubebuilder:validation:Optional
  optional OvhSpec ovh = 49;

  // +kubebuilder:validation:Optional
  optional AwsS3Spec aws = 50;

  // +kubebuilder:validation:Optional
  optional SmtpSpec smtp = 51;

  // +kubebuilder:validation:Optional
  optional FtpSpec ftp = 52;

  // +kubebuilder:validation:Optional
  optional SFtpSpec sftp = 53;

  // +kubebuilder:validation:Optional
  optional DropboxSpec dropbox = 54;

  // +kubebuilder:validation:Optional
  optional BoxSpec box = 55;

  // +kubebuilder:validation:Optional
  optional ImageRegistrySpec imageRegistry = 56;

  // +kubebuilder:validation:Optional
  optional GithubSpec github = 57;

  // +kubebuilder:validation:Optional
  optional GitlabSpec gitlab = 58;

  // +kubebuilder:validation:Optional
  optional BitbucketSpec bitbucket = 59;

  // +kubebuilder:validation:Optional
  optional SlackSpec slack = 60;

  // +kubebuilder:validation:Optional
  optional MSTeamSpec msteam = 61;

  // +kubebuilder:validation:Optional
  optional MattermostSpec matterMost = 62;

  // +kubebuilder:validation:Optional
  optional HipchatSpec hipchat = 63;

  // +kubebuilder:validation:Optional
  optional VictorOpSpec victorop = 64;

  // +kubebuilder:validation:Optional
  optional PagerDutySpec pagerduty = 65;

  // +kubebuilder:validation:Optional
  optional PushoverSpec pushover = 66;

  // +kubebuilder:validation:Optional
  optional OpsgenieSpec opsgenie = 67;

  // +kubebuilder:validation:Optional
  optional WebhookSpec webhook = 68;

  // Social media
  // +kubebuilder:validation:Optional
  optional FacebookSpec facebook = 69;

  // +kubebuilder:validation:Optional
  optional TwitterSpec twitter = 70;

  // Message broker
  // +kubebuilder:validation:Optional
  optional RabbitMQSpec rabbitmq = 71;

  // +kubebuilder:validation:Optional
  optional KafkaSpec kafka = 72;

  // +kubebuilder:validation:Optional
  optional Neo4JSpec neo4j = 73;

  // +kubebuilder:validation:Optional
  optional DiscordSpec discord = 74;

  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 80;
}

// ConnectionStatus is the observed state of a Connection
message ConnectionStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 2;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 3;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 4;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated ConnectionCondition conditions = 5;
}

message CouchbaseSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=8123
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string defaultBucket = 6;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 7;
}

message DB2Spec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

message DigitalOceanSpec {
  // Token for digital ocean
  // +kubebuilder:default:=""
  optional string token = 1;

  // Access Key for digital ocean spaces
  // +kubebuilder:default:=""
  optional string accessKey = 2;

  // StorageSecret Key for digital ocean spaces
  // +kubebuilder:default:=""
  optional string secretKey = 3;

  // Default digital ocean
  // +kubebuilder:default:=""
  optional string defaultRegion = 4;

  // url or connection string
  // +kubebuilder:default:=""
  optional string host = 5;
}

message DiscordSpec {
  // Discrod webhook
  // +kubebuilder:default:=""
  optional string url = 1;

  // Content type
  // +kubebuilder:default:="application/json"
  optional string contentType = 2;

  // The webhook secret token
  optional string token = 3;

  // custom headers to send
  map<string, string> headers = 4;

  optional bool ssl = 5;
}

message DremioSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

message DropboxSpec {
  // +kubebuilder:default:=""
  optional string token = 1;
}

message ElasticSearchSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5432
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string prefix = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

message ExasolSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 7;
}

message FTPSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

message FacebookSpec {
  // +kubebuilder:default:=""
  optional string token = 1;
}

message FtpSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 21
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;
}

// BigQuerySpec defines the connection to big query
message GcpBigQuerySpec {
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // UserName
  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;

  // +kubebuilder:default:=""
  optional string projectID = 5;

  // +kubebuilder:default:=""
  optional string oauthType = 6;

  // +kubebuilder:default:=""
  optional string serviceAccountKeyPath = 7;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 8;
}

message GcpSpannerSpec {
  // +kubebuilder:default:=""
  optional string project = 1;

  // +kubebuilder:default:=""
  optional string instance = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;

  // +kubebuilder:default:=""
  optional string database = 5;

  // URL Override the other
  optional string url = 6;
}

message GcpStorageSpec {
  // +kubebuilder:default:=""
  optional string keyFile = 1;

  // +kubebuilder:default:=""
  optional string project = 2;
}

message GithubSpec {
  // +kubebuilder:default:=""
  optional string token = 1;

  // +kubebuilder:default:=""
  optional string username = 2;

  // +kubebuilder:default:=""
  optional string ssh = 3;
}

message GitlabSpec {
  // +kubebuilder:default:=""
  optional string token = 1;

  // +kubebuilder:default:=""
  optional string ssh = 2;
}

message GoogleSheetsSpec {
  // +kubebuilder:default:=""
  optional string scopes = 1;

  // +kubebuilder:default:= ""
  optional string id = 2;

  // +kubebuilder:default:=""
  optional string dataToPull = 3;
}

message GreenPlumSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5432
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 6;
}

message HetznerSpec {
  // +kubebuilder:default:=""
  optional string token = 1;

  // +kubebuilder:default:=""
  optional string ssh = 2;
}

message HipchatSpec {
  // +kubebuilder:default:=""
  optional string url = 1;

  // +kubebuilder:default:=""
  optional string token = 2;

  // +kubebuilder:default:=""
  optional string room = 3;
}

message ImageRegistrySpec {
  // Hostname for the image registry
  // +kubebuilder:default:=""
  optional string host = 1;

  // Username for image registry
  // +kubebuilder:default:=""
  optional string username = 2;

  // +kubebuilder:default:=""
  optional string password = 3;
}

message InformixSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=1526
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

message KafkaSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string channel = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 6;
}

// Lab is a namespace used for training and data analysis operations.
// +kubebuilder:object:root=true
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Owner",type="string",JSONPath=".spec.owner"
// +kubebuilder:printcolumn:name="Cluster",type="string",JSONPath=".spec.clusterName"
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp"
// +kubebuilder:resource:path=labs,singular=lab,categories={infra,modela,all}
// +kubebuilder:subresource:status
message Lab {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional LabSpec spec = 2;

  optional LabStatus status = 3;
}

// LabCondition describes the state of a lab at a certain point.
message LabCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// LabList is a list of labs
message LabList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Lab items = 2;
}

// LabSpec defines the desired state of a Lab
message LabSpec {
  // Description is a user provided description
  // +kubebuilder:validation:Optional
  // +kubebuilder:default:=""
  // +kubebuilder:validation:MaxLength=256
  optional string description = 1;

  // +kubebuilder:validation:Optional
  // TenantRef is a reference to the tenant owning this lab
  // Default to default tenant.
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 2;

  // Specify resource limits
  // +kubebuilder:validation:Optional
  optional ResourceLimitSpec limits = 3;

  // ClusterName is the name of a remote cluster that is used to execute jobs for this lab
  // If not empty, jobs assigned to this lab should execute on remote cluster
  // +kubebuilder:validation:Optional
  // +kubebuilder:default:=""
  optional string clusterName = 4;

  // The owner account name
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 5;

  // Stake holders refer to a list of stackholders, which have interest in the product.
  // +kubebuilder:validation:Optional
  repeated github.com.metaprov.modelaapi.pkg.apis.catalog.v1alpha1.StakeHolder stakeholders = 6;
}

// LabStatus is the observed state of a Lab
message LabStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 2;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated LabCondition conditions = 3;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Valid\")].status",description=""
// +kubebuilder:printcolumn:name="Owner",type="string",JSONPath=".spec.owner",description=""
// +kubebuilder:printcolumn:name="Secret",type="string",JSONPath=".spec.secretRef.name",description=""
// +kubebuilder:printcolumn:name="Trial Start",type="string",JSONPath=".spec.trialStart",description=""
// +kubebuilder:printcolumn:name="Trial End",type="string",JSONPath=".spec.trialEnd",description=""
// +kubebuilder:printcolumn:name="Max Trainers",type="string",JSONPath=".spec.maxTrainers",description=""
// +kubebuilder:printcolumn:name="Max Nodes",type="string",JSONPath=".spec.maxServers",description=""
// +kubebuilder:printcolumn:name="Max Users",type="string",JSONPath=".spec.maxUsers",description=""
// +kubebuilder:printcolumn:name="Expire At",type="date",JSONPath=".spec.expireAt",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=licenses,singular=license,categories={infra,modela}
// License is an abstraction that represent the cluster wide license
// as obtained from Modela. The license is store inside a a secret
message License {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional LicenseSpec spec = 2;

  optional LicenseStatus status = 3;
}

// LicenseCondition describes the state of the license at a certain point.
message LicenseCondition {
  // Type of condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// LicenseList is a list of License
message LicenseList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated License items = 2;
}

// LicenseSpec defines the desired state of License
message LicenseSpec {
  // Reference to the tenant owning this license
  // +kubebuilder:validation:Optional
  // Default to default tenant.
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 1;

  // The secret containing the license token
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.SecretReference secretRef = 2;

  // Owner is the account owning this license
  // +kubebuilder:validation:Optional
  // +kubebuilder:default:="no-one"
  optional string owner = 3;

  // +kubebuilder:validation:Optional
  // +kubebuilder:default:=""
  optional string email = 4;

  // TrialStart is the start date for free trial
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time trialStart = 5;

  // TrialEnd when free trial end
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time trialEnd = 6;

  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Optional
  optional int32 maxProducts = 7;

  // MaxTrainers is max number of trainers
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Optional
  optional int32 maxTrainers = 8;

  // MaxServers is the max number of worker nodes
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Optional
  optional int32 maxServers = 9;

  // MaxUsers is the max number of active accounts
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Optional
  optional int32 maxUsers = 10;

  // max data planes
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Optional
  optional int32 maxDataPlanes = 11;

  // Forcast denote if forecast feature supported
  // +kubebuilder:validation:Optional
  optional bool forecast = 12;

  // NLP is nlp feature supported
  // +kubebuilder:validation:Optional
  optional bool nlp = 13;

  // Is vision feature supported
  // +kubebuilder:validation:Optional
  optional bool vision = 14;

  // Is chatbot feature supported
  optional bool chatbot = 15;

  // The product name
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string productName = 16;

  // The price name
  // +kubebuilder:validation:Optional
  optional string priceName = 17;

  // When the license expire
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time expireAt = 18;

  // NotifierName is a reference to a notifier to receive the license expiration notification
  // +kubebuilder:validation:Optional
  optional string notifierName = 19;
}

// LicenseStatus is the observed state of a License
message LicenseStatus {
  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 1;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 2;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 3;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 4;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated LicenseCondition conditions = 5;
}

message LinodeSpec {
  // +kubebuilder:default:=""
  optional string token = 1;
}

message MSSqlServerSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=1433
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string instance = 4;

  // +kubebuilder:default:=""
  optional string username = 5;

  // +kubebuilder:default:=""
  optional string password = 6;

  // URL Override the other
  optional string url = 7;
}

message MSTeamSpec {
  // +kubebuilder:default:=""
  optional string webhook = 1;
}

message MattermostSpec {
  // +kubebuilder:default:=""
  optional string url = 1;

  // +kubebuilder:default:=""
  optional string channel = 2;

  // +kubebuilder:default:=""
  optional string username = 3;
}

message MinioSpec {
  // Access key for minio
  // +kubebuilder:default:=""
  optional string accessKey = 1;

  // StorageSecret key for minio
  // +kubebuilder:default:=""
  optional string secretKey = 2;

  // Minio url connection.
  // +kubebuilder:default:=""
  optional string host = 3;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=modelasystems,singular=modelasystem,categories={infra,modela}
message ModelaSystem {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional ModelaSystemSpec spec = 2;

  optional ModelaSystemStatus status = 3;
}

// ModelaSystemCondition describes the state of the license at a certain point.
message ModelaSystemCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// ModelaSystemList is a list of ModelaSystems
message ModelaSystemList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated ModelaSystem items = 2;
}

// ModelaSystemSpec defines the desired state of ModelaSystem
message ModelaSystemSpec {
  // The current software version of modela
  // +kubebuilder:validation:Required
  // +required
  optional string release = 1;

  // Set the release to active
  // +kubebuilder:validation:Optional
  optional bool active = 2;

  // +kubebuilder:validation:Optional
  // +optional
  optional k8s.io.api.core.v1.PodTemplateSpec podTemplate = 3;

  // +kubebuilder:validation:Optional
  // +optional
  optional k8s.io.api.core.v1.PodTemplateSpec publisherTemplate = 4;
}

// ModelaSystemStatus is the observed state of a ModelaSystem
message ModelaSystemStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 2;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 3;

  // +kubebuilder:validation:Optional
  optional string lastRelease = 4;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated ModelaSystemCondition conditions = 5;
}

message MongoDbSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=27017
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // +kubebuilder:default:=""
  optional string url = 6;
}

message MySqlSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=3306
  // +kubebuilder:validation:Minimum=0
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // +kubebuilder:default:=""
  optional string url = 6;
}

message Neo4JSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 7;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Owner",type="string",JSONPath=".spec.owner",description=""
// +kubebuilder:printcolumn:name="Connection",type="string",JSONPath=".spec.connectionName",description=""
// +kubebuilder:printcolumn:name="From",type="string",JSONPath=".spec.from",description=""
// +kubebuilder:printcolumn:name="To",type="string",JSONPath=".spec.to",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=notifiers,singular=notifier,categories={infra,modela}
message Notifier {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional NotifierSpec spec = 2;

  optional NotifierStatus status = 3;
}

// NotifierCondition describes the state of the license at a certain point.
message NotifierCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, AutoScaler.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// NotifierList is a list of Notifiers
message NotifierList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Notifier items = 2;
}

// NotifierSpec defines the desired state of Notifier
message NotifierSpec {
  // Is this notifier can send notification
  // +kubebuilder:default:= true
  // +kubebuilder:validation:Optional
  optional bool enabled = 1;

  // The tenant that own the notifier
  // Default to default tenant.
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 2;

  // User provided description
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string description = 3;

  // Notifier type
  // +kubebuilder:default:="webhook"
  // +kubebuilder:validation:Optional
  optional string type = 4;

  // +kubebuilder:validation:Required
  // +kubebuilder:default:=""
  optional string connectionName = 5;

  // Send info messages
  // +kubebuilder:default:= false
  // +kubebuilder:validation:Optional
  optional bool info = 6;

  // Send error messages
  // +kubebuilder:default:= true
  // +kubebuilder:validation:Optional
  optional bool error = 7;

  // The owner account name
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 8;

  // The email to send messages to. This is only relvent when using email notifier.
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string email = 9;
}

// NotifierStatus is the observed state of a Notifier
message NotifierStatus {
  // provider is the name of the notifier provider. The name is derived from the connection
  optional string provider = 1;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 2;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 3;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 4;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 5;

  // +kubebuilder:validation:Optional
  repeated NotifierCondition conditions = 6;
}

message OdbcSpec {
  // +kubebuilder:default:=""
  optional string conntectionString = 1;
}

message OpenstackSpec {
  // +kubebuilder:default:=""
  optional string username = 1;

  // +kubebuilder:default:=""
  optional string tenantName = 2;

  // +kubebuilder:default:=""
  optional string password = 3;

  // +kubebuilder:default:=""
  optional string authUrl = 4;

  // +kubebuilder:default:=""
  optional string region = 5;
}

message OpsgenieSpec {
  // +kubebuilder:default:=""
  optional string apiID = 1;

  // +kubebuilder:default:=""
  optional string apiKey = 2;

  // +kubebuilder:default:=""
  optional string url = 3;
}

message OracleSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=1521
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:="XE"
  optional string sid = 3;

  // +kubebuilder:default:="thin"
  optional string driver = 4;

  // +kubebuilder:default:=""
  optional string username = 5;

  // +kubebuilder:default:=""
  optional string password = 6;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 7;
}

message OvhSpec {
  // +kubebuilder:default:=""
  optional string endpoint = 1;

  // +kubebuilder:default:=""
  optional string application = 2;

  // +kubebuilder:default:=""
  optional string secret = 3;

  // +kubebuilder:default:=""
  optional string consumerkey = 4;
}

message PagerDutySpec {
  // +kubebuilder:default:=""
  optional string apiID = 1;

  // +kubebuilder:default:=""
  optional string apiKey = 2;

  // +kubebuilder:default:=""
  optional string url = 3;
}

message PostgresSQLSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5432
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

message PrestoSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=8080
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string catalog = 3;

  // +kubebuilder:default:=""
  optional string schema = 4;

  // +kubebuilder:default:=""
  optional string username = 5;

  // +kubebuilder:default:=""
  optional string password = 6;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 7;
}

message PushoverSpec {
  // +kubebuilder:default:=""
  optional string apiID = 1;

  // +kubebuilder:default:=""
  optional string apiKey = 2;

  // +kubebuilder:default:=""
  optional string url = 3;
}

message RabbitMQSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 21
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;
}

// Defines the resource limits for lab and serving site.
message ResourceLimitSpec {
  // Enabled, set to true if you want to
  // +kubebuilder:validation:Optional
  // +kubebuilder:default:=false
  optional bool enabled = 1;

  // High level max memory provider
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.api.resource.Quantity maxMem = 2;

  // High level req.
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.api.resource.Quantity maxCpu = 3;

  // Max number of pods
  // +kubebuilder:validation:Optional
  optional int32 maxPods = 4;

  // Max number of pvc
  // +kubebuilder:validation:Optional
  optional int32 maxPvc = 5;

  // Low level spec.
  // QuotaSpec is quoute specification for the lab namespace.
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ResourceQuotaSpec quota = 6;

  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.LimitRangeSpec limitRange = 7;
}

// RuleSpec define the relation between a resource and the actions on the resource.
message RuleSpec {
  // The name of the resource
  optional string resource = 1;

  // List of allowed actions on the resource
  repeated string verbs = 2;
}

message SAPHanaSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=1526
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

message SFTPSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 9042
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string keyspace = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL override the other settings
  // +kubebuilder:default:=""
  optional string url = 6;
}

message SFtpSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:= 21
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;
}

message Scope {
  // +kubebuilder:validation:Optional
  optional string name = 1;

  // +kubebuilder:validation:Optional
  repeated string actions = 2;
}

// ServingSite is a namespace used for serving
// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Owner",type="string",JSONPath=".spec.owner",description="owner"
// +kubebuilder:printcolumn:name="FQDN",type="string",JSONPath=".spec.fqdn",description=""
// +kubebuilder:printcolumn:name="Ingress",type="string",JSONPath=".spec.ingressName",description=""
// +kubebuilder:printcolumn:name="Predictors",type="number",JSONPath=".status.activePredictors",description=""
// +kubebuilder:printcolumn:name="Cluster",type="string",JSONPath=".spec.clusterName",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=servingsites,singular=servingsite,categories={infra,modela}
message ServingSite {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional ServingSiteSpec spec = 2;

  optional ServingSiteStatus status = 3;
}

// ServingSiteCondition describes the state of a servingsite at a certain point.
message ServingSiteCondition {
  // Type of  condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// ServingSiteList is a list of ServingSite
message ServingSiteList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated ServingSite items = 2;
}

message ServingSiteSpec {
  // Description is user provided description
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string description = 1;

  // Reference to the tenant owning this serving site.
  // Default to default tenant.
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 2;

  // Specify resource limits
  // +kubebuilder:validation:Optional
  optional ResourceLimitSpec limits = 3;

  // IngressName denote the name of the ingress object where the serving site
  // places the external points used to access the predictors
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string ingressName = 4;

  // The FQDN for this site. This will register with ingress.
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string fqdn = 5;

  // ClusterName is  the virtual cluster name in case that the lab is not on the same cluster
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string clusterName = 6;

  // Owner is the owner account name
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 7;

  // Stake holders refer to a list of stackholders, which have interest in this serving site.
  // +kubebuilder:validation:Optional
  repeated github.com.metaprov.modelaapi.pkg.apis.catalog.v1alpha1.StakeHolder stakeholders = 8;
}

message ServingSiteStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 2;

  // active predictors
  optional int32 activePredictors = 3;

  // inactive predictors
  optional int32 inactivePredictors = 4;

  // total predictors service failed
  optional int32 totalPredictorServiceFailed = 5;

  // total predictors with data drift failed
  optional int32 totalPredictorDataDriftFailed = 6;

  // total predictors accuracy failed
  optional int32 totalPredictorAccuracyFailed = 7;

  // Last 7 days predictions
  repeated int32 lastDailyPredictions = 8;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 9;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 10;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated ServingSiteCondition conditions = 11;
}

message SingleStoreSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  // +kubebuilder:default:=""
  optional string url = 7;
}

message SlackSpec {
  // +kubebuilder:default:=""
  optional string webhookUrl = 1;

  // +kubebuilder:default:=""
  optional string channel = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string token = 4;
}

message SmtpSpec {
  // SMTP server Host
  // +kubebuilder:default:=""
  optional string host = 1;

  // SMTP Server Port
  // +kubebuilder:default:=25
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // The SMTP domain name
  // +kubebuilder:default:=""
  optional string helo = 3;

  // The smtp email
  optional string email = 4;

  // Use SSL when connecting to SMTP server
  // +kubebuilder:default:=false
  optional bool ssl = 5;

  // +kubebuilder:default:=false
  optional bool verifyPeer = 6;

  // +kubebuilder:default:=false
  optional bool verifyHost = 7;

  // Use user name password auth
  // +kubebuilder:default:=true
  optional bool passwordAuth = 8;

  // User name when using user name and password
  optional string username = 9;

  // Password when using user name and password
  // +kubebuilder:default:=""
  optional string password = 10;
}

message SnowflakeSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=443
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string username = 3;

  // +kubebuilder:default:=""
  optional string password = 4;

  // +kubebuilder:default:=""
  optional string database = 5;

  // +kubebuilder:default:=""
  optional string schema = 6;

  // +kubebuilder:default:=""
  optional string warehouse = 7;

  // URL Override the other
  optional string url = 8;
}

message SqliteSpec {
  // +kubebuilder:default:="general"
  optional string fileName = 1;
}

message SybaseSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5000
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Default Lab",type="string",JSONPath=".spec.defaultLabRef.Name",description=""
// +kubebuilder:printcolumn:name="Default Serving Site",type="string",JSONPath=".spec.defaultServingSiteRef.Name",description=""
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=tenants,singular=tenant,categories={infra,modela}
// Tenant represents root tenant.
message Tenant {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional TenantSpec spec = 2;

  optional TenantStatus status = 3;
}

// TenantCondition describes the state of a tenant at a certain point.
message TenantCondition {
  // Type of tenant condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// TenantList represent list of tenants.
message TenantList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated Tenant items = 2;
}

// TenantSpec defines the desired state of Tenant
message TenantSpec {
  // the default lab for this account
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference defaultLab = 1;

  // the default serving site for this account
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference defaultServingSiteRef = 2;

  // Description is user provided description
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  // +kubebuilder:validation:MaxLength=512
  // +kubebuilder:validation:Optional
  optional string description = 3;

  // Owner is the owner account name
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 4;

  // The premissions at the tenant level for the tenent objects.
  // +kubebuilder:validation:Optional
  optional github.com.metaprov.modelaapi.pkg.apis.catalog.v1alpha1.PermissionsSpec permissions = 5;
}

// TenantStatus defines the actual state of a Tenant
message TenantStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 2;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 3;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 4;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated TenantCondition conditions = 5;
}

message TeradataSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=6666
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

message TwitterSpec {
  // +kubebuilder:default:=""
  optional string token = 1;
}

// UserRoleClass specify the RBAC premission for a specific user role.
// +kubebuilder:resource:path=userroleclasses,singular=userroleclass,categories={infra,modela,all}
// +kubebuilder:object:root=true
message UserRoleClass {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional UserRoleClassSpec spec = 2;
}

// +kubebuilder:object:root=true
// UserRoleClassList contains a list of UserRoleClass
message UserRoleClassList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated UserRoleClass items = 2;
}

// UserRoleClassSpec is the spec for UserRoleClass
message UserRoleClassSpec {
  optional string description = 1;

  // +kubebuilder:validation:Optional
  repeated RuleSpec rules = 2;
}

message VerticaSpec {
  // +kubebuilder:default:=""
  optional string host = 1;

  // +kubebuilder:default:=5433
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=65535
  optional int32 port = 2;

  // +kubebuilder:default:=""
  optional string database = 3;

  // +kubebuilder:default:=""
  optional string username = 4;

  // +kubebuilder:default:=""
  optional string password = 5;

  // URL Override the other
  optional string url = 6;
}

message VictorOpSpec {
  // +kubebuilder:default:=""
  optional string apiID = 1;

  // +kubebuilder:default:=""
  optional string apiKey = 2;

  // +kubebuilder:default:=""
  optional string url = 3;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Owner",type="string",JSONPath=".spec.owner",description="owner"
// +kubebuilder:printcolumn:name="Connection",type="string",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=virtualbuckets,shortName=vb,singular=virtualbucket,categories={infra,modela,all}
// VirtualBucket represent a object storage location in the cloud or on-prem
message VirtualBucket {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional VirtualBucketSpec spec = 2;

  optional VirtualBucketStatus status = 3;
}

// VitualBucketCondition describes the state of a virtual bucket at a certain point.
message VirtualBucketCondition {
  // Type of bucket condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// VirtualBucketList is a list of VirtualBucket
message VirtualBucketList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated VirtualBucket items = 2;
}

// VirtualBucketSpec defines the desired state of Bucket
message VirtualBucketSpec {
  // The owner of the virtual bucket
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 1;

  // ConnectionName specify the api connections of this bucket cloud provider.
  // +kubebuilder:validation:Required
  // +kubebuilder:validation:MaxLength=64
  // +kubebuilder:default:=""
  optional string connectionName = 2;

  // User provided description
  // +kubebuilder:validation:MaxLength=512
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string description = 3;

  // Owner of the bucket
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 4;

  // For cloud based bucket, this is the region of the bucket
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string region = 5;

  // If true support versioning
  // +kubebuilder:default:=false
  // +kubebuilder:validation:Optional
  optional bool versioning = 6;

  // If true support versioning
  // +kubebuilder:validation:Optional
  optional BucketResourceQuotas quotas = 7;
}

// VirtualBucketStatus defines the actual state of a VirtualBucket
message VirtualBucketStatus {
  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 1;

  // Provider is the name of the notifier provider. The name is derived from the connection
  optional string provider = 2;

  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 3;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 4;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 5;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated VirtualBucketCondition conditions = 6;
}

// VirtualCluster defined a running kubernetes cluster with N nodes and GPU.
// The study can create or destroy virtual clusters during training.
// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="Owner",type="string",JSONPath=".spec.ownerName",description="cluster owner account"
// +kubebuilder:printcolumn:name="Nodes",type="integer",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:printcolumn:name="Node Class",type="string",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:printcolumn:name="Gpus",type="integer",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:printcolumn:name="Gpu Class",type="string",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:printcolumn:name="Connection",type="string",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:resource:path=virtualclusters,singular=virtualcluster,categories={infra,modela}
message VirtualCluster {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional VirtualClusterSpec spec = 2;

  optional VirtualClusterStatus status = 3;
}

// VirtualClusterCondition describes the state of a virtual cluster at a certain point.
message VirtualClusterCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 3;

  // The reason for the condition's last transition.
  optional string reason = 4;

  // A human readable message indicating details about the transition.
  optional string message = 5;
}

// +kubebuilder:object:root=true
// VirtualClusterList is a list of VirtualCluster
message VirtualClusterList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated VirtualCluster items = 2;
}

message VirtualClusterSpec {
  // The owner of the virtual bucket
  // +kubebuilder:validation:Optional
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 1;

  // Description is the user provided description
  // +kubebuilder:default:=""
  // +optional
  optional string description = 2;

  // Nodes is the desired number of nodes
  // +kubebuilder:default:=1
  // +kubebuilder:validation:Minimum=1
  // +kubebuilder:validation:Maximum=10
  // +kubebuilder:validation:Optional
  optional int32 nodes = 3;

  // +kubebuilder:validation:Optional
  // NodeClassName is the class of nodes or vm
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string nodeClassName = 4;

  // +kubebuilder:validation:Optional
  // Gpus is the desired number of gpus
  // +kubebuilder:default:=0
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Maximum=10
  // +kubebuilder:validation:Optional
  optional int32 gpus = 5;

  // +kubebuilder:validation:Optional
  // GpuClassName is the The class of gpu.
  // +kubebuilder:default:=""
  // +kubebuilder:validation:Optional
  optional string gpuClassName = 6;

  // +kubebuilder:validation:Optional
  // VolumeSize is the size of the volume that would be mounted on all the node of the cluster
  // +kubebuilder:default:=0
  // +kubebuilder:validation:Minimum=0
  // +kubebuilder:validation:Maximum=10
  // +kubebuilder:validation:Optional
  optional int32 volumeSize = 7;

  // +kubebuilder:validation:Optional
  // Spot indicate if we should we use spot instances.
  // +kubebuilder:default:=false
  // +optional
  optional bool spot = 8;

  // ConnectionName refer to the name of the provider connection
  // +kubebuilder:default:=""
  optional string connectionName = 9;

  // Owner is the account name of the owner of this cluster
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 10;

  // Specify resource limits for the virtual cluster
  // +kubebuilder:validation:Optional
  optional ResourceLimitSpec limits = 11;
}

message VirtualClusterStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // +kubebuilder:validation:Minimum=0
  // +optional
  optional int32 availableNodes = 2;

  // Number of available Gpus
  // +kubebuilder:validation:Minimum=0
  // +optional
  optional int32 availableGpus = 3;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 4;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 5;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 6;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated VirtualClusterCondition conditions = 7;
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:printcolumn:name="Ready",type="string",JSONPath=".status.conditions[?(@.type==\"Ready\")].status",description=""
// +kubebuilder:printcolumn:name="StorageConnection",type="string",JSONPath=".spec.connectionName",description="virtual bucket connections"
// +kubebuilder:printcolumn:name="Age",type="date",JSONPath=".metadata.creationTimestamp",description=""
// +kubebuilder:resource:path=virtualvolumes,shortName=vol,singular=virtualvolume,categories={infra,modela,all}
// VirtualVolume represent a volume api object
message VirtualVolume {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ObjectMeta metadata = 1;

  optional VirtualVolumeSpec spec = 2;

  // +kubebuilder:validation:Optional
  optional VirtualVolumeStatus status = 3;
}

message VirtualVolumeCondition {
  // Type of account condition.
  optional string type = 1;

  // Status of the condition, one of True, False, Unknown.
  optional string status = 2;

  // Last time the condition transitioned from one status to another.
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastTransitionTime = 4;

  // The reason for the condition's last transition.
  optional string reason = 5;

  // A human readable message indicating details about the transition.
  optional string message = 6;
}

// +kubebuilder:object:root=true
// VirtualVolumeList is a list of mdvolumes
message VirtualVolumeList {
  optional k8s.io.apimachinery.pkg.apis.meta.v1.ListMeta metadata = 1;

  repeated VirtualVolume items = 2;
}

// VirtualVolumeSpec define the desired state of the mdvolume.
message VirtualVolumeSpec {
  // The Lab that own the git repository
  // Default to the default volume.
  optional k8s.io.api.core.v1.ObjectReference tenantRef = 1;

  //  specify the api connections of this mdvolume cloud provider.
  // +kubebuilder:validation:Optional
  optional string connectionName = 2;

  // User provided description
  // +kubebuilder:validation:Optional
  // +kubebuilder:default:=""
  // +kubebuilder:validation:MaxLength=512
  optional string description = 3;

  // The owner account name
  // +kubebuilder:default:="no-one"
  // +kubebuilder:validation:Optional
  optional string owner = 4;
}

message VirtualVolumeStatus {
  // ObservedGeneration is the Last generation that was acted on
  // +kubebuilder:validation:Optional
  optional int64 observedGeneration = 1;

  // Last time the object was updated
  // +kubebuilder:validation:Optional
  optional k8s.io.apimachinery.pkg.apis.meta.v1.Time lastUpdated = 2;

  // Update in case of terminal failure
  // Borrowed from cluster api controller
  // +kubebuilder:validation:Optional
  optional string failureReason = 3;

  // Update in case of terminal failure message
  // +kubebuilder:validation:Optional
  optional string failureMessage = 4;

  // +patchMergeKey=type
  // +patchStrategy=merge
  // +kubebuilder:validation:Optional
  repeated VirtualVolumeCondition conditions = 5;
}

message WebhookSpec {
  // +kubebuilder:default:=""
  optional string url = 1;

  // Content type
  // +kubebuilder:default:="application/json"
  optional string contentType = 2;

  // The webhook secret token
  optional string token = 3;

  // custom headers to send
  map<string, string> headers = 4;

  optional bool ssl = 5;
}

