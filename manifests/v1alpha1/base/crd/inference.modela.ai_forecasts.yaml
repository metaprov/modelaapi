---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: forecasts.inference.modela.ai
spec:
  group: inference.modela.ai
  names:
    categories:
    - inference
    - modela
    kind: Forecast
    listKind: ForecastList
    plural: forecasts
    shortNames:
    - fr
    singular: forecast
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=="Ready")].status
      name: Ready
      type: string
    - jsonPath: .spec.owner
      name: Owner
      priority: 1
      type: string
    - jsonPath: .spec.predictorName
      name: Predictor
      type: string
    - jsonPath: .spec.datasetName
      name: Entity
      type: string
    - jsonPath: .spec.labeled
      name: Labeled
      type: string
    - jsonPath: .spec.output.bucketName
      name: Bucket
      priority: 1
      type: string
    - jsonPath: .spec.output.path
      name: Key
      priority: 1
      type: string
    - jsonPath: .status.score
      name: Score
      type: string
    - jsonPath: .status.phase
      name: Status
      type: string
    - jsonPath: .status.rows
      name: Rows
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Forecast represents a single batch forecast on a dataset
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ForecastSpec represent the desired state of Forecast
            properties:
              aborted:
                default: false
                description: Indicates if the Forecast was aborted and should stop
                  execution
                type: boolean
              activeDeadlineSeconds:
                default: 600
                description: The deadline for the batch forecast Job to be completed
                  in seconds
                format: int64
                minimum: 0
                type: integer
              dataSourceRef:
                description: A reference to the input data source ref
                properties:
                  apiVersion:
                    description: API version of the referent.
                    type: string
                  fieldPath:
                    description: 'If referring to a piece of an object instead of
                      an entire object, this string should contain a valid JSON/Go
                      field access statement, such as desiredState.manifest.containers[2].
                      For example, if the object reference is to a container within
                      a pod, this would take on a value like: "spec.containers{name}"
                      (where "name" refers to the name of the container that triggered
                      the event) or if no container name is specified "spec.containers[2]"
                      (container with index 2 in this pod). This syntax is chosen
                      only to have some well-defined way of referencing a part of
                      an object. TODO: this design is not final and this field is
                      subject to change in the future.'
                    type: string
                  kind:
                    description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                    type: string
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                    type: string
                  namespace:
                    description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                    type: string
                  resourceVersion:
                    description: 'Specific resourceVersion to which this reference
                      is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                    type: string
                  uid:
                    description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                    type: string
                type: object
              owner:
                default: no-one
                description: The name of the Account which created the object, which
                  exists in the same tenant as the object
                type: string
              predictionRef:
                description: PredictorRef is the name of the Prediction that generated
                  this forecast unlabeled input dataset. The Predictor must exist
                  in the same DataProduct namespace as the resource
                properties:
                  apiVersion:
                    description: API version of the referent.
                    type: string
                  fieldPath:
                    description: 'If referring to a piece of an object instead of
                      an entire object, this string should contain a valid JSON/Go
                      field access statement, such as desiredState.manifest.containers[2].
                      For example, if the object reference is to a container within
                      a pod, this would take on a value like: "spec.containers{name}"
                      (where "name" refers to the name of the container that triggered
                      the event) or if no container name is specified "spec.containers[2]"
                      (container with index 2 in this pod). This syntax is chosen
                      only to have some well-defined way of referencing a part of
                      an object. TODO: this design is not final and this field is
                      subject to change in the future.'
                    type: string
                  kind:
                    description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                    type: string
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                    type: string
                  namespace:
                    description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                    type: string
                  resourceVersion:
                    description: 'Specific resourceVersion to which this reference
                      is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                    type: string
                  uid:
                    description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                    type: string
                type: object
              priority:
                default: medium
                description: The priority of the Kubernetes Job created by the Forecast
                  (medium, by default)
                enum:
                - low
                - medium
                - high
                - urgent
                type: string
              runs:
                additionalProperties:
                  properties:
                    horizon:
                      description: the prediction horizon
                      properties:
                        interval:
                          description: The period interval
                          enum:
                          - second
                          - minute
                          - hour
                          - day
                          - week
                          - month
                          - quarter
                          - year
                          type: string
                        length:
                          description: The windows end day
                          format: int32
                          type: integer
                        start:
                          default: 0
                          description: The number of intervals to start
                          format: int32
                          type: integer
                      type: object
                    key:
                      description: The reference to the ServingSite resource that
                      type: string
                    modelURI:
                      description: The reference to the ServingSite resource that
                      type: string
                  type: object
                description: The list of forecast runs. Runs are indexed by key
                type: object
              servingsiteRef:
                description: The reference to the ServingSite resource that
                properties:
                  apiVersion:
                    description: API version of the referent.
                    type: string
                  fieldPath:
                    description: 'If referring to a piece of an object instead of
                      an entire object, this string should contain a valid JSON/Go
                      field access statement, such as desiredState.manifest.containers[2].
                      For example, if the object reference is to a container within
                      a pod, this would take on a value like: "spec.containers{name}"
                      (where "name" refers to the name of the container that triggered
                      the event) or if no container name is specified "spec.containers[2]"
                      (container with index 2 in this pod). This syntax is chosen
                      only to have some well-defined way of referencing a part of
                      an object. TODO: this design is not final and this field is
                      subject to change in the future.'
                    type: string
                  kind:
                    description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                    type: string
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                    type: string
                  namespace:
                    description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                    type: string
                  resourceVersion:
                    description: 'Specific resourceVersion to which this reference
                      is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                    type: string
                  uid:
                    description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                    type: string
                type: object
              ttl:
                default: 0
                description: The time-to-live of the Forecast, after which the Forecast
                  will be archived
                format: int32
                type: integer
              versionName:
                default: ""
                description: The name of the DataProductVersion which describes the
                  version of the resource that exists in the same DataProduct namespace
                  as the resource
                type: string
            type: object
          status:
            description: ForecastStatus is the observed state of a Forecast
            properties:
              conditions:
                items:
                  description: ForecastCondition describes the state of a Forecast
                    at a certain point
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another
                      format: date-time
                      type: string
                    message:
                      description: A human-readable message indicating details about
                        the transition
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown
                      type: string
                    type:
                      description: Type of Forecast condition
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
              endTime:
                description: EndTime denotes the time when the batch forecast Job
                  completed or failed
                format: date-time
                type: string
              failed:
                description: total number of forecasts failed
                format: int32
                type: integer
              observedGeneration:
                description: ObservedGeneration is the last generation that was acted
                  on
                format: int64
                type: integer
              phase:
                default: Pending
                description: The current phase of the forecast
                type: string
              rows:
                description: total number of forecasts
                format: int32
                type: integer
              runs:
                additionalProperties:
                  description: The result of forecasting one item. The forecast data
                    itself is stored on the cloud. The dataURI is pointing to the
                    forecast, the profile URI
                  properties:
                    dataURI:
                      description: A pointer to the actual forecast
                      type: string
                    failed:
                      description: Mark forecast as a failure.
                      type: boolean
                    failureMessage:
                      description: In case of failure, this is the failure message
                      type: string
                    features:
                      additionalProperties:
                        type: number
                      description: Feature scores for this time series.
                      type: object
                    key:
                      description: The time series key
                      type: string
                    profileURI:
                      description: A pointer to the profile URI
                      type: string
                    unitTestsResult:
                      description: the result of a unit test on a forecast
                      properties:
                        entityRef:
                          description: A reference to the object under test. Best
                            practice is to have one suite for an object
                          properties:
                            apiVersion:
                              description: API version of the referent.
                              type: string
                            fieldPath:
                              description: 'If referring to a piece of an object instead
                                of an entire object, this string should contain a
                                valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                For example, if the object reference is to a container
                                within a pod, this would take on a value like: "spec.containers{name}"
                                (where "name" refers to the name of the container
                                that triggered the event) or if no container name
                                is specified "spec.containers[2]" (container with
                                index 2 in this pod). This syntax is chosen only to
                                have some well-defined way of referencing a part of
                                an object. TODO: this design is not final and this
                                field is subject to change in the future.'
                              type: string
                            kind:
                              description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                              type: string
                            name:
                              description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            namespace:
                              description: 'Namespace of the referent. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                              type: string
                            resourceVersion:
                              description: 'Specific resourceVersion to which this
                                reference is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                              type: string
                            uid:
                              description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                              type: string
                          type: object
                        errors:
                          description: Total number of assertion errors.
                          format: int32
                          type: integer
                        failures:
                          description: Total number of failures. A failure is an unplanned
                            error, e.g. cannot connect to a dataset
                          format: int32
                          type: integer
                        startTime:
                          description: Start time of running the suite
                          format: date-time
                          type: string
                        stopTime:
                          description: Stop time of running the suite.
                          format: date-time
                          type: string
                        tests:
                          description: The result of executing the test suite. The
                            result contain one result object per test case.
                          items:
                            description: Result for a specific case
                            properties:
                              actual:
                                description: Actual observation
                                properties:
                                  boolQty:
                                    description: If the metric refer to a bool unit,
                                      store the bool value
                                    type: boolean
                                  category:
                                    description: If the metric refer to categorical
                                      measure,store the category.
                                    type: string
                                  column:
                                    type: string
                                  entity:
                                    description: 'ObjectReference contains enough
                                      information to let you inspect or modify the
                                      referred object. --- New uses of this type are
                                      discouraged because of difficulty describing
                                      its usage when embedded in APIs. 1. Ignored
                                      fields.  It includes many fields which are not
                                      generally honored.  For instance, ResourceVersion
                                      and FieldPath are both very rarely valid in
                                      actual usage. 2. Invalid usage help.  It is
                                      impossible to add specific help for individual
                                      usage.  In most embedded usages, there are particular
                                      restrictions like, "must refer only to types
                                      A and B" or "UID not honored" or "name must
                                      be restricted". Those cannot be well described
                                      when embedded. 3. Inconsistent validation.  Because
                                      the usages are different, the validation rules
                                      are different by usage, which makes it hard
                                      for users to predict what will happen. 4. The
                                      fields are both imprecise and overly precise.  Kind
                                      is not a precise mapping to a URL. This can
                                      produce ambiguity during interpretation and
                                      require a REST mapping.  In most cases, the
                                      dependency is on the group,resource tuple and
                                      the version of the actual struct is irrelevant.
                                      5. We cannot easily change it.  Because this
                                      type is embedded in many locations, updates
                                      to this type will affect numerous schemas.  Don''t
                                      make new APIs embed an underspecified API type
                                      they do not control. Instead of using this type,
                                      create a locally provided and used type that
                                      is well-focused on your reference. For example,
                                      ServiceReferences for admission registration:
                                      https://github.com/kubernetes/api/blob/release-1.17/admissionregistration/v1/types.go#L533
                                      .'
                                    properties:
                                      apiVersion:
                                        description: API version of the referent.
                                        type: string
                                      fieldPath:
                                        description: 'If referring to a piece of an
                                          object instead of an entire object, this
                                          string should contain a valid JSON/Go field
                                          access statement, such as desiredState.manifest.containers[2].
                                          For example, if the object reference is
                                          to a container within a pod, this would
                                          take on a value like: "spec.containers{name}"
                                          (where "name" refers to the name of the
                                          container that triggered the event) or if
                                          no container name is specified "spec.containers[2]"
                                          (container with index 2 in this pod). This
                                          syntax is chosen only to have some well-defined
                                          way of referencing a part of an object.
                                          TODO: this design is not final and this
                                          field is subject to change in the future.'
                                        type: string
                                      kind:
                                        description: 'Kind of the referent. More info:
                                          https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                                        type: string
                                      name:
                                        description: 'Name of the referent. More info:
                                          https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                                        type: string
                                      namespace:
                                        description: 'Namespace of the referent. More
                                          info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                                        type: string
                                      resourceVersion:
                                        description: 'Specific resourceVersion to
                                          which this reference is made, if any. More
                                          info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                                        type: string
                                      uid:
                                        description: 'UID of the referent. More info:
                                          https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                                        type: string
                                    type: object
                                  metric:
                                    description: The metric type name (e.g. F1 / Accuracy)
                                    enum:
                                    - accuracy
                                    - average-precision
                                    - balanced-accuracy
                                    - pr-auc
                                    - pr-auc-micro
                                    - pr-auc-macro
                                    - pr-auc-weighted
                                    - f1
                                    - f1-micro
                                    - f1-macro
                                    - f1-weighted
                                    - f1-samples
                                    - precision
                                    - precision-micro
                                    - precision-macro
                                    - precision-weighted
                                    - precision-samples
                                    - recall
                                    - recall-macro
                                    - recall-micro
                                    - recall-weighted
                                    - recall-samples
                                    - log-loss
                                    - auc
                                    - auc-micro
                                    - auc-macro
                                    - auc-weighted
                                    - zero-one
                                    - hamming-loss
                                    - hinge-loss
                                    - jacquard-loss
                                    - mcc
                                    - fp
                                    - fn
                                    - tn
                                    - tp
                                    - tpr
                                    - fpr
                                    - tnr
                                    - matthews-corr-coef
                                    - explained-variance
                                    - max-error
                                    - mae
                                    - mse
                                    - msle
                                    - rmse
                                    - rmsle
                                    - median-absolute-error
                                    - r2
                                    - adj-r2
                                    - mean_poisson_deviance
                                    - mean-gamma-deviance
                                    - mean-tweedie-deviance
                                    - mape
                                    - maze
                                    - mdape
                                    - smape
                                    - adjusted-mutual-info-score
                                    - adjusted-rand-score
                                    - completeness-score
                                    - fowlkes-mallows-score
                                    - homogeneity-score
                                    - mutual-info-score
                                    - normalized-mutual-info-score
                                    - v-measure-score
                                    - p50-latency
                                    - p95-latency
                                    - p99-latency
                                    - cpu
                                    - gpu
                                    - mem
                                    - gpu-mem
                                    - req-per-sec
                                    - uncertain-prediction-percent
                                    - none
                                    - two-sample-ks-test
                                    - chi-squared-test
                                    - proportion-difference
                                    - wasserstein-distance
                                    - psi
                                    - kl-divergence
                                    - js-divergence
                                    - wape
                                    - rmspe
                                    - quantile-loss
                                    - equal-opportunity
                                    - demographic-parity
                                    - equals-odds-tnr
                                    - individual-fairness
                                    - individual-fairness-counter-factuals
                                    - pearson
                                    - cramers-v
                                    - rank-biserial
                                    - point-biserial
                                    type: string
                                  stddev:
                                    description: Metric standard diviation for quantative
                                      observations.
                                    type: number
                                  timePoint:
                                    description: The Time when the observation was
                                      taken
                                    format: date-time
                                    type: string
                                  value:
                                    description: The value of the metric for quantitive
                                      observations
                                    type: number
                                  valueSet:
                                    description: Capture a set of values.
                                    items:
                                      type: string
                                    type: array
                                type: object
                              error:
                                description: An error occur if the system cannot execute
                                  the test case (e.g. connection error).
                                type: boolean
                              failure:
                                description: A failure occur on assertion failure
                                type: boolean
                              failureMsg:
                                description: An optional
                                type: string
                              name:
                                description: The test case name for this result.
                                type: string
                            required:
                            - name
                            type: object
                          type: array
                      type: object
                  type: object
                description: the forecast results for this forecast
                type: object
              startTime:
                description: StartTime denotes the time when the batch forecast Job
                  started
                format: date-time
                type: string
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
