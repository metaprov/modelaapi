
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.7.0
  creationTimestamp: null
  name: studies.training.modela.ai
spec:
  group: training.modela.ai
  names:
    categories:
    - training
    - modela
    kind: Study
    listKind: StudyList
    plural: studies
    shortNames:
    - sd
    singular: study
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.phase
      name: Status
      type: string
    - jsonPath: .status.progress
      name: Progress
      type: number
    - jsonPath: .spec.owner
      name: Owner
      priority: 1
      type: string
    - jsonPath: .spec.versionName
      name: Version
      priority: 1
      type: string
    - jsonPath: .spec.datasetName
      name: Dataset
      type: string
    - jsonPath: .spec.task
      name: Task
      type: string
    - jsonPath: .spec.objective
      name: Objective
      type: string
    - jsonPath: .status.bestModelScore
      name: Score
      type: number
    - jsonPath: .status.bestModel
      name: Best model
      type: string
    - jsonPath: .status.trainedModels
      name: Trained
      type: number
    - jsonPath: .status.testedModels
      name: Tested
      type: number
    - jsonPath: .status.startTime
      name: StartTime
      priority: 1
      type: date
    - jsonPath: .status.completionTime
      name: CompletionTime
      priority: 1
      type: date
    - jsonPath: .status.lastError
      name: Last Error
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Study represent a search for the best machine learning model
          using automl.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: StudySpec defines the desired state of the study
            properties:
              aborted:
                default: false
                description: Aborted is set when we want to abort the training
                type: boolean
              activeDeadlineSeconds:
                default: 600
                description: ActiveDeadlineSeconds is the deadline of a job for this
                  study.
                format: int64
                minimum: 0
                type: integer
              compilation:
                description: This is the compiler spec for models. This spec will
                  act as a template for the models created by the study
                properties:
                  compiler:
                    default: none
                    description: Set one or more targets Enable set the enable to
                    enum:
                    - tvm
                    - onyx
                    - xla
                    - none
                    type: string
                  enable:
                    default: false
                    description: Enable set the enable to
                    type: boolean
                  targets:
                    description: Set one or more targets for the compiler
                    items:
                      enum:
                      - amd-epyc-2
                      - arma-53
                      - arma-72
                      - intel-cascade-lake
                      - intel-broadwell
                      - intel-skylake
                      - tesla-v100
                      - tesla-k80
                      - t4
                      - raspberry-pi8-modela-b
                      type: string
                    type: array
                type: object
              datasetName:
                default: ""
                description: DatasetName refer to the dataset object for which the
                  study is for.
                type: string
              description:
                default: ""
                description: Description is user provided description
                maxLength: 512
                type: string
              flagged:
                description: Is this model flagged
                type: boolean
              hierarchy:
                description: The group hierarchy
                properties:
                  columns:
                    description: The columns in the data frame that belongs to the
                      hierarchy. By default, all the item level column is the last
                      one. The default aggregate function is sum.
                    items:
                      type: string
                    type: array
                  groupLevels:
                    description: The group level columns. For each group level column
                      specify the horizon and the aggregate function
                    items:
                      properties:
                        aggregate:
                          description: The aggregate function used to roll up the
                            lower level
                          enum:
                          - min
                          - max
                          - avg
                          - median
                          type: string
                        distinc:
                          description: The distinct values of the column for this
                            level
                          items:
                            type: string
                          type: array
                        freq:
                          description: The freq of the level
                          enum:
                          - second
                          - minute
                          - hour
                          - day
                          - week
                          - month
                          - quarter
                          - year
                          type: string
                        horizon:
                          description: The number of time periods to
                          format: int32
                          type: integer
                        string:
                          description: The name of the level - the column name
                          type: string
                      type: object
                    type: array
                  itemLevel:
                    description: Item level column.
                    properties:
                      aggregate:
                        description: The aggregate function used to roll up the lower
                          level
                        enum:
                        - min
                        - max
                        - avg
                        - median
                        type: string
                      distinc:
                        description: The distinct values of the column for this level
                        items:
                          type: string
                        type: array
                      freq:
                        description: The freq of the level
                        enum:
                        - second
                        - minute
                        - hour
                        - day
                        - week
                        - month
                        - quarter
                        - year
                        type: string
                      horizon:
                        description: The number of time periods to
                        format: int32
                        type: integer
                      string:
                        description: The name of the level - the column name
                        type: string
                    type: object
                  notifierName:
                    description: Optional notifier to use when the forecast is complete.
                    type: string
                type: object
              labRef:
                description: LabRef is a reference to the lab where the trainers for
                  this study run. If no value is provided, the lab is taken from the
                properties:
                  apiVersion:
                    description: API version of the referent.
                    type: string
                  fieldPath:
                    description: 'If referring to a piece of an object instead of
                      an entire object, this string should contain a valid JSON/Go
                      field access statement, such as desiredState.manifest.containers[2].
                      For example, if the object reference is to a container within
                      a pod, this would take on a value like: "spec.containers{name}"
                      (where "name" refers to the name of the container that triggered
                      the event) or if no container name is specified "spec.containers[2]"
                      (container with index 2 in this pod). This syntax is chosen
                      only to have some well-defined way of referencing a part of
                      an object. TODO: this design is not final and this field is
                      subject to change in the future.'
                    type: string
                  kind:
                    description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                    type: string
                  name:
                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                    type: string
                  namespace:
                    description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                    type: string
                  resourceVersion:
                    description: 'Specific resourceVersion to which this reference
                      is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                    type: string
                  uid:
                    description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                    type: string
                type: object
              location:
                description: The location of the study artifacts By default the bucket
                  is the data product bucket.
                properties:
                  bucketName:
                    default: ""
                    description: Bucketname is the name of the bucket
                    type: string
                  connectionName:
                    default: ""
                    description: ConnectionName is the name of the connection to access
                      the database
                    type: string
                  database:
                    default: ""
                    description: Database , the database.
                    type: string
                  path:
                    default: ""
                    description: Path to the full data file (e.g. csv file).
                    type: string
                  sql:
                    default: ""
                    description: SQL statement, in case we choose the view type
                    type: string
                  table:
                    default: ""
                    description: Sql or table or topic name.
                    type: string
                  topic:
                    default: ""
                    description: Topic is the name of the topic in case of streaming
                    type: string
                  type:
                    default: object
                    description: data location type is the type of the data location
                    type: string
                type: object
              modelImage:
                description: Model Image specification.
                properties:
                  exist:
                    default: false
                    description: Is the release to
                    type: boolean
                  imageName:
                    default: ""
                    description: Full image name to use
                    type: string
                  registryConnectionName:
                    default: ""
                    description: The name of the connection object, the name must
                      be provided in order to push the image.
                    type: string
                type: object
              modelImagePushed:
                default: false
                description: Set to true if you want the system to push model image
                  to remote docker registry
                type: boolean
              modelPublished:
                default: false
                description: Set to true if you want the system to create a docker
                  model image, at the end of training.
                type: boolean
              notification:
                description: Notification specification.
                properties:
                  errorTTL:
                    default: 3600
                    description: TTL for error msgs. In seconds
                    format: int32
                    type: integer
                  notifierName:
                    default: ""
                    description: The name of the notifier.
                    type: string
                  onError:
                    default: true
                    description: Fire when error occur
                    type: boolean
                  onSuccess:
                    default: false
                    description: Fire when success occur.
                    type: boolean
                  selector:
                    additionalProperties:
                      type: string
                    description: Select the target notifiers by a label.
                    type: object
                  successTTL:
                    default: 3600
                    description: TTL for success msgs. In seconds
                    format: int32
                    type: integer
                type: object
              objective:
                description: Objective is the objective defined how the study controller
                  will compare model performance.
                enum:
                - accuracy
                - average-precision
                - balanced-accuracy
                - brier-score-loss
                - f1
                - f1-macro
                - f1-micro
                - f1-weighted
                - log-loss
                - precision
                - precision-micro
                - precision-macro
                - precision-weighted
                - recall
                - recall-macro
                - recall-micro
                - recall-weighted
                - auc
                - fp
                - fn
                - tn
                - tp
                - explained_variance
                - mae
                - mse
                - msle
                - median-absolute-error
                - r2
                - adjusted-mutual-info-score
                - adjusted-rand-score
                - completeness-score
                - fowlkes-mallows-score
                - homogeneity-score
                - mutual-info-score
                - normalized-mutual-info-score
                - v-measure-score
                - rmse
                - unknown
                - mape
                - smape
                - mdape
                type: string
              objective2:
                description: Objective2 is the second objective to consider during
                  optimization.
                enum:
                - accuracy
                - average-precision
                - balanced-accuracy
                - brier-score-loss
                - f1
                - f1-macro
                - f1-micro
                - f1-weighted
                - log-loss
                - precision
                - precision-micro
                - precision-macro
                - precision-weighted
                - recall
                - recall-macro
                - recall-micro
                - recall-weighted
                - auc
                - fp
                - fn
                - tn
                - tp
                - explained_variance
                - mae
                - mse
                - msle
                - median-absolute-error
                - r2
                - adjusted-mutual-info-score
                - adjusted-rand-score
                - completeness-score
                - fowlkes-mallows-score
                - homogeneity-score
                - mutual-info-score
                - normalized-mutual-info-score
                - v-measure-score
                - rmse
                - unknown
                - mape
                - smape
                - mdape
                type: string
              owner:
                default: no-one
                description: The owner account name
                type: string
              paused:
                default: false
                description: Paused is set when we want to pause the training
                type: boolean
              preprocessing:
                description: 'Preprocessing is template for preprocessors for this
                  study Default: all preprocessing is set to auto.'
                properties:
                  audio:
                    description: Audio specify the pipeline for audio. Not supported
                      in this release
                    properties:
                      columns:
                        description: Name of the datetime columns
                        items:
                          type: string
                        type: array
                      featurizer:
                        default: auto
                        description: The date time imputer.
                        type: string
                    type: object
                  balancer:
                    description: Balancer is used for imbalanced datasets to fix the
                      imbalance.
                    enum:
                    - adasyn
                    - baseline-smote
                    - kmean-smote
                    - random-over-sampler
                    - smote
                    - smotenc
                    - svmsmote
                    - none
                    - auto
                    type: string
                  categorical:
                    description: One or more categorical pipelines.
                    properties:
                      columns:
                        description: The columns for this pipeline. Use * to denotes
                          all the columns. Must have at least on value.
                        items:
                          type: string
                        type: array
                      encoder:
                        default: auto
                        description: CatEncoder
                        enum:
                        - one-hot
                        - count-freq
                        - ordinal-encoder
                        - mean
                        - target
                        - woe
                        - rare-label
                        - binary
                        - label
                        - none
                        - auto
                        type: string
                      imputer:
                        default: auto
                        description: Categorical variable imputer
                        enum:
                        - remove-rows-with-missing-values
                        - mean
                        - median
                        - mode
                        - arbitrary-number
                        - end-tail
                        - random-sample
                        - add-missing-indication
                        - iterative
                        - none
                        - auto
                        - constant
                        type: string
                    type: object
                  datatime:
                    description: DataTime specify the column transformation for datetime
                      columns
                    properties:
                      columns:
                        description: Name of the datetime columns
                        items:
                          type: string
                        type: array
                      expand:
                        default: false
                        type: boolean
                      imputer:
                        default: auto
                        description: The date time imputer.
                        enum:
                        - remove-rows-with-missing-values
                        - mean
                        - median
                        - mode
                        - arbitrary-number
                        - end-tail
                        - random-sample
                        - add-missing-indication
                        - iterative
                        - none
                        - auto
                        - constant
                        type: string
                    type: object
                  featureEngineering:
                    description: FeaturePipeline selector
                    enum:
                    - rfe
                    - select-percentile
                    - select-kbest
                    - select-fpr
                    - select-fdr
                    - variance-threshold
                    - pca
                    - polynomial-features
                    - rbf-sampler
                    - fast-ica
                    - nystroem
                    - none
                    - auto
                    type: string
                  image:
                    description: Image specify the pipeline for images. Not supported
                      in this release
                    properties:
                      columns:
                        description: Name of the datetime columns
                        items:
                          type: string
                        type: array
                      featurizer:
                        default: auto
                        description: The date time imputer.
                        type: string
                    type: object
                  imbalanced:
                    description: Imbalance flag instruct the designer to create an
                      imbalanced pipeline. Default is false
                    type: boolean
                  numeric:
                    description: Numeric specify the column transformation for numeric
                      columns
                    properties:
                      columns:
                        items:
                          type: string
                        type: array
                      imputer:
                        default: auto
                        description: Numerical var imputer
                        enum:
                        - remove-rows-with-missing-values
                        - mean
                        - median
                        - mode
                        - arbitrary-number
                        - end-tail
                        - random-sample
                        - add-missing-indication
                        - iterative
                        - none
                        - auto
                        - constant
                        type: string
                      scaler:
                        default: auto
                        description: Numeric var scaler
                        enum:
                        - standard
                        - max-abs
                        - min-max
                        - normalizer
                        - robust
                        - none
                        - auto
                        type: string
                    type: object
                  text:
                    description: Text specify the column transformation for text columns
                    properties:
                      columns:
                        description: The list of test columns
                        items:
                          type: string
                        type: array
                      embedding:
                        description: If true, the controller will Add word embedding
                          handling to the text pipeline.
                        type: string
                      encoder:
                        default: auto
                        description: The text encoder (e.g. tfidf)
                        type: string
                      lemma:
                        default: true
                        description: If true, the controller will Add lemma handling
                          to the text pipeline.
                        type: boolean
                      pos:
                        default: true
                        description: If true, the controller will Add part of speech
                          handling to the text pipeline.
                        type: boolean
                      stem:
                        default: true
                        description: If true, the controller will Add stemmer handling
                          to the text pipeline.
                        type: boolean
                      stopwords:
                        default: true
                        description: If true, the controller will Add stop word handling
                          to the text pipeline.
                        type: boolean
                      tokenizer:
                        description: Text tokenizer
                        type: string
                    type: object
                  video:
                    description: Video specify the pipeline for video. Not supported
                      in this release
                    properties:
                      columns:
                        description: Name of the datetime columns
                        items:
                          type: string
                        type: array
                      featurizer:
                        default: auto
                        description: The date time imputer.
                        type: string
                    type: object
                type: object
              profiled:
                default: true
                description: Profiled is set when we want to create model profile
                  and study profile.
                type: boolean
              reported:
                default: true
                description: Reported is set when we want to create model report
                type: boolean
              search:
                description: Search defines the model search
                properties:
                  allowlist:
                    description: AllowList contain the list of algorithms that should
                      be tested as part of the search.
                    items:
                      enum:
                      - knn-regressor
                      - ridge-regressor
                      - lasso-regressor
                      - ada-boost-regressor
                      - decision-tree-regressor
                      - extra-tree-regressor
                      - linear-svr
                      - svr
                      - passive-agressive-regressor
                      - sgd-regressor
                      - gradient-boosting-regressor
                      - random-forest-regressor
                      - xgb-regressor
                      - catboost-regressor
                      - sgd-regressor
                      - gradient-boosting-regressor
                      - random-forest-regressor
                      - xgb-regressor
                      - catboost-regressor
                      - lightgbm-regressor
                      - elasticnet-regressor
                      - dnn-regressor
                      - elliptic-envelope
                      - one-class-svm
                      - isolation-forest
                      - local-outlier-factor
                      - prophet
                      - knn-classifier
                      - ada-boost-classifier
                      - bernoulli-nb
                      - decision-tree-classifier
                      - extra-tree-classifier
                      - linear-svc
                      - svc
                      - passive-aggressive-classifier
                      - sgd-classifier
                      - logistic-regression
                      - gradient-boosting-classifier
                      - random-forest-classifier
                      - xgboost-classifier
                      - ridge-classifier
                      - quadratic-discriminant
                      - linear-discriminant
                      - lightgbm-classifier
                      - catboost-classifier
                      - stacking-ensemble
                      - none
                      type: string
                    type: array
                  baselines:
                    description: Baselines holds the name of the base line algroithms
                      to try
                    items:
                      enum:
                      - knn-regressor
                      - ridge-regressor
                      - lasso-regressor
                      - ada-boost-regressor
                      - decision-tree-regressor
                      - extra-tree-regressor
                      - linear-svr
                      - svr
                      - passive-agressive-regressor
                      - sgd-regressor
                      - gradient-boosting-regressor
                      - random-forest-regressor
                      - xgb-regressor
                      - catboost-regressor
                      - sgd-regressor
                      - gradient-boosting-regressor
                      - random-forest-regressor
                      - xgb-regressor
                      - catboost-regressor
                      - lightgbm-regressor
                      - elasticnet-regressor
                      - dnn-regressor
                      - elliptic-envelope
                      - one-class-svm
                      - isolation-forest
                      - local-outlier-factor
                      - prophet
                      - knn-classifier
                      - ada-boost-classifier
                      - bernoulli-nb
                      - decision-tree-classifier
                      - extra-tree-classifier
                      - linear-svc
                      - svc
                      - passive-aggressive-classifier
                      - sgd-classifier
                      - logistic-regression
                      - gradient-boosting-classifier
                      - random-forest-classifier
                      - xgboost-classifier
                      - ridge-classifier
                      - quadratic-discriminant
                      - linear-discriminant
                      - lightgbm-classifier
                      - catboost-classifier
                      - stacking-ensemble
                      - none
                      type: string
                    type: array
                  filter:
                    default: none
                    description: set a general filter on the allowed algorithm
                    enum:
                    - quick
                    - linear-only
                    - tree
                    - default-hp
                    - none
                    type: string
                  maxCost:
                    default: 100
                    description: MaxCost specify what is the maximum cost incurred
                      before stopping model creations
                    format: int32
                    maximum: 1000
                    minimum: 1
                    type: integer
                  maxModels:
                    default: 10
                    description: Used for random search, the max models sampled.
                    format: int32
                    maximum: 1000
                    minimum: 1
                    type: integer
                  maxTime:
                    default: 30
                    description: MaxTime specify what is the maximum time allocated
                      to a study (in minutes). the cross validation stage.
                    format: int32
                    maximum: 10000
                    minimum: 1
                    type: integer
                  minScore:
                    default: 0
                    description: The minimum score by which the search would stop
                    type: number
                  pruner:
                    description: The pruner to use during model search.
                    properties:
                      intervalTrials:
                        default: 1
                        description: Interval in number of steps between the pruning
                          checks
                        format: int32
                        type: integer
                      lower:
                        description: A minimum value which determines whether pruner
                          prunes or not. Used only for treshold pruner
                        format: int32
                        type: integer
                      minTrials:
                        default: 1
                        description: Minimum number of reported trials.
                        format: int32
                        type: integer
                      precentialTrials:
                        default: 25
                        description: Keep specific precent of trials. Used only with
                          precential pruner
                        format: int32
                        maximum: 100
                        minimum: 0
                        type: integer
                      shOptions:
                        description: SHOptions is the desired options for successive
                          halving search. All other models are saved into an archive.
                        properties:
                          eliminationRate:
                            default: 3
                            description: The rate of elimination during SH search,
                              such that only 1/rate of models are promoted to the
                              next half
                            format: int32
                            minimum: 0
                            type: integer
                          maxBudget:
                            default: 81
                            description: The maximum budget allocated to each model
                              during SH search. The default max budget is 81
                            format: int32
                            minimum: 0
                            type: integer
                          modality:
                            default: epochs
                            description: The modality type. The default modality is
                              based on the type of models For deep models - we use
                              epocs. For classical models - we use data
                            enum:
                            - data
                            - epochs
                            type: string
                        type: object
                      startupTrials:
                        default: 5
                        description: Pruning is disabled until the given number of
                          trials finish in the same study.
                        format: int32
                        type: integer
                      type:
                        default: median
                        description: The pruner to use during model search.
                        enum:
                        - none
                        - patient
                        - median
                        - precentile
                        - sh
                        - hyperband
                        - treshold
                        type: string
                      upper:
                        description: A maximum value which determines whether pruner
                          prunes or not. Used only for treshold pruner
                        format: int32
                        type: integer
                      wramupTrials:
                        default: 0
                        description: ' Pruning is disabled until the trial exceeds
                          the given number of step'
                        format: int32
                        type: integer
                    type: object
                  resources:
                    description: Define the general size of the resources needed for
                      each trainer.
                    properties:
                      cpu:
                        default: M
                        description: Cpu specify the cpu requirements will be compared
                        enum:
                        - XS
                        - S
                        - M
                        - L
                        - XL
                        - XXL
                        - XXXL
                        - AutoScaler
                        type: string
                      gpu:
                        default: M
                        description: Gpu specify the desired gpu requirements.  will
                          be compared
                        enum:
                        - XS
                        - S
                        - M
                        - L
                        - XL
                        - XXL
                        - XXXL
                        - AutoScaler
                        type: string
                      mem:
                        default: M
                        description: Mem define the memory resource requirements will
                          be compared
                        enum:
                        - XS
                        - S
                        - M
                        - L
                        - XL
                        - XXL
                        - XXXL
                        - AutoScaler
                        type: string
                    type: object
                  retainTop:
                    default: 10
                    description: Indicate the total number of full models that would
                      be retain in etcd. All other models are garbage collected (archived).
                      models are sorted by thier objective score.
                    format: int32
                    maximum: 100
                    minimum: 0
                    type: integer
                  retainedFor:
                    default: 60
                    description: RetainFor measure the time in minutes for modela
                      trained. Default is 60 min (1 H).
                    format: int32
                    maximum: 2400
                    minimum: 0
                    type: integer
                  sampler:
                    default: random
                    description: Type specify the hyper parameter optimization search
                      method. The only supported value is random
                    enum:
                    - random
                    - grid
                    - bayesian
                    - tpe
                    - manual
                    - auto
                    type: string
                  stackingEnsemble:
                    default: true
                    description: StackingEnsemble If true, create a stacking ensemble
                      of the top 3 models.
                    type: boolean
                  startAt:
                    description: Set the start time, by default this is set to the
                      start time of the study
                    format: date-time
                    type: string
                  test:
                    default: 1
                    description: Test indicate the desired number of models that should
                      be passed to the testing phase.
                    format: int32
                    maximum: 5
                    minimum: 1
                    type: integer
                  trainers:
                    default: 1
                    description: The desired number of trainers running during search.
                    format: int32
                    maximum: 50
                    minimum: 0
                    type: integer
                  votingEnsemble:
                    default: false
                    description: VotingEnsample - If true, create a voting ensemble
                      of the top 3 models.
                    type: boolean
                type: object
              split:
                description: Split is reference to the split specification
                properties:
                  auto:
                    default: true
                    description: Indicate that this is an automatic split.
                    type: boolean
                  seed:
                    default: 42
                    description: 'The seed to use for the estimator Default: 42'
                    format: int32
                    type: integer
                  splitColumn:
                    description: The name of the column used to split
                    type: string
                  splitPolicy:
                    default: stratified
                    description: Indicate if the dataset split should be stratified.
                    type: string
                  test:
                    default: 20
                    description: Test is percent of dataset rows which would be used
                      to compute the objective during
                    format: int32
                    maximum: 50
                    minimum: 0
                    type: integer
                  train:
                    default: 80
                    description: Training is a percent number (0-100) which specify
                      how much of the data will be used for training
                    format: int32
                    maximum: 100
                    minimum: 1
                    type: integer
                  validation:
                    default: 0
                    description: Validation is percent of dataset rows which would
                      be used to compute the objective during hyper parameter search
                      phase. Only used if we do not do cross validation. default is
                      10% of the data, if we do not have cross validation. default
                      is 0% of the data, if we do cross validation.
                    format: int32
                    maximum: 50
                    minimum: 0
                    type: integer
                type: object
              task:
                description: Task specify the machine learning task (e.g classification).
                  This must match the task of the data product.
                enum:
                - forecasting
                - binary-classification
                - multi-classification
                - multi-label-classification
                - text-classification
                - regression
                - forecasting
                - clustering
                - recommendation
                - outlier-detection
                - novelty-detection
                - topic-modeling
                - auto
                - unknown
                - video-action-recognition
                - video-classification
                - video-object-tracking
                - text-classification
                - text-multi-label-classification
                - text-entity-extraction
                - text-sentiment-analysis
                - image-classification
                - image-multi-classification
                - image-object-detection
                - image-segmentation
                type: string
              template:
                default: false
                description: Set to true if this study is a template
                type: boolean
              training:
                description: Training template contain the desired training parameter
                  for the models.
                properties:
                  checkpointInterval:
                    default: 10
                    description: Add snapshot interval for long training time in minutes.
                      This is used to checkpoint training model.
                    format: int32
                    minimum: 0
                    type: integer
                  cv:
                    default: true
                    description: If true, this is a cross validation using folds.
                      If False, use the validation set.
                    type: boolean
                  cvtype:
                    default: kfold
                    description: The  type of cross validation. if we have a validation
                      set, we do not do cv.
                    enum:
                    - none
                    - kfold
                    - loocv
                    - stratified
                    type: string
                  dist:
                    default: false
                    description: Dist indicate the training should be be distributed
                    type: boolean
                  earlyStop:
                    default: false
                    description: Early stopping, stop the training after X models
                      with no improvement.
                    type: boolean
                  evalMetrics:
                    description: Evaluation metrics are the scores
                    items:
                      description: Metric is the machine learning metric used to evaluate
                        a model performance.
                      enum:
                      - accuracy
                      - average-precision
                      - balanced-accuracy
                      - brier-score-loss
                      - f1
                      - f1-macro
                      - f1-micro
                      - f1-weighted
                      - log-loss
                      - precision
                      - precision-micro
                      - precision-macro
                      - precision-weighted
                      - recall
                      - recall-macro
                      - recall-micro
                      - recall-weighted
                      - auc
                      - fp
                      - fn
                      - tn
                      - tp
                      - explained_variance
                      - mae
                      - mse
                      - msle
                      - median-absolute-error
                      - r2
                      - adjusted-mutual-info-score
                      - adjusted-rand-score
                      - completeness-score
                      - fowlkes-mallows-score
                      - homogeneity-score
                      - mutual-info-score
                      - normalized-mutual-info-score
                      - v-measure-score
                      - rmse
                      - unknown
                      - mape
                      - smape
                      - mdape
                      type: string
                    type: array
                  folds:
                    default: 5
                    description: The number of folds during cross validation.
                    format: int32
                    type: integer
                  forecast:
                    description: 'Define the forecast period for time series studies.
                      This is only used in time series models. Default: Empty'
                    properties:
                      backtest:
                        description: The backtest specification, the system supports
                          back testing with expanding windows.
                        properties:
                          initial:
                            default: 80
                            description: The initial number of data points, default
                              to 80% of rows.
                            format: int32
                            minimum: 0
                            type: integer
                          windows:
                            default: 3
                            description: The number of backtesting windows. Default
                              to 3. can be from 1 to 5.
                            format: int32
                            minimum: 0
                            type: integer
                        type: object
                      confidenceIntervals:
                        description: The confidence levels for the forecast, each
                          level must be between 1-100.
                        format: int32
                        minimum: 0
                        type: integer
                      countryForHoliday:
                        description: Set an holiday schedule for a country.
                        enum:
                        - US
                        - BR
                        - ID
                        - IN
                        - MY
                        - VN
                        - TH
                        - PH
                        - PK
                        - BD
                        - EG
                        - CN
                        - RU
                        - KR
                        - BY
                        - AE
                        - none
                        type: string
                      datetimeFormat:
                        description: The format of the datetime column. Used default
                        type: string
                      dimensionValues:
                        description: a set of value for each partition key
                        items:
                          description: DimensionValue specify the partition key values
                            are used for the partition
                          properties:
                            key:
                              description: Key is the partition key
                              type: string
                            value:
                              description: Value if the partition value
                              type: string
                          type: object
                        type: array
                      dimensions:
                        description: The list of the dimension columns. If non, the
                          system will treat the whole time series as one.
                        items:
                          type: string
                        type: array
                      forecast:
                        description: Specify if we should generate a forecast using
                          the model If true, the system will perform a forecast and
                          update the forecast connection. Default it true
                        type: boolean
                      forecastConnectionName:
                        description: The name of the connection for a database the
                          result of the forecast If null, the system will insert the
                          forecast in the database.
                        type: string
                      freqSpec:
                        description: Required, the freq of the time series (daily,weekly)
                        properties:
                          interval:
                            default: 1
                            description: Default to 1.
                            format: int32
                            minimum: 0
                            type: integer
                          unit:
                            description: required
                            enum:
                            - second
                            - minute
                            - hour
                            - day
                            - week
                            - month
                            - quarter
                            - year
                            type: string
                        type: object
                      horizon:
                        description: Horizon is the number of data points to predict
                          in the future.
                        format: int32
                        minimum: 0
                        type: integer
                      repressors:
                        description: List of other columns to take into consideration
                          Default None
                        items:
                          type: string
                        type: array
                      targetColumn:
                        description: The name of the column holding the value. By
                          default this is the target column from the dataset.
                        type: string
                      timeColumn:
                        description: The name of the time column
                        type: string
                    type: object
                  gpu:
                    default: false
                    description: Gpu indicate that training should be done on a gpu.
                    type: boolean
                  nodeCount:
                    default: 1
                    description: In case of dist node, how many nodes to use.
                    format: int32
                    type: integer
                  priority:
                    default: medium
                    description: Priority specify the priority of the model in the
                      training queue.
                    enum:
                    - low
                    - medium
                    - high
                    - urgent
                    type: string
                  seed:
                    default: 42
                    description: Used as the random state for an estimator if needed
                      (for example, in RandomForestClassifier)
                    type: number
                  sh:
                    description: Successive halving represent the configuration for
                      the model training, when running the SuccessiveHalvingSpec model
                      search algorithm The metrics are evaluated using the final model,
                      both on the training set and on the test set
                    properties:
                      bracket:
                        description: The bracket of the model when running multi fidelity
                          search.
                        format: int32
                        maximum: 128
                        minimum: 0
                        type: integer
                      budget:
                        description: The budget is used in multi fidelity search.
                          This is the percent of fidelity of the model. The meaning
                          is based on the model configuration. For example fidelity
                          is number of epochs in sgd alg Or can be percent of the
                          data in non sgd algorithm.
                        format: int32
                        maximum: 128
                        minimum: 0
                        type: integer
                      confID:
                        description: The configuration id allocated to this model
                          in rung 0
                        format: int32
                        type: integer
                      modality:
                        description: The modality type. The default modality is based
                          on the type of models For deep models - we use epocs. For
                          classical models - we use data
                        enum:
                        - data
                        - epochs
                        type: string
                      rung:
                        description: The rung of the model
                        format: int32
                        maximum: 128
                        minimum: 0
                        type: integer
                    type: object
                  workloadClassName:
                    default: nano-cpu-250m-mem-256mi
                    description: WorkloadClassName is the name of the workload class
                      used to run this model. This is assigned by the study
                    type: string
                type: object
              ttl:
                default: 0
                description: TTL for models.
                format: int32
                type: integer
              versionName:
                default: ""
                description: VersionName is the data product version of the study
                maxLength: 63
                type: string
            required:
            - datasetName
            - task
            type: object
          status:
            description: StudyStatus defines the observed state of the Study
            properties:
              baseline:
                default: none
                description: define a baseline model that will be the baseline for
                  the search. If not none, the base line is the first model to be
                  evaluated.
                enum:
                - knn-regressor
                - ridge-regressor
                - lasso-regressor
                - ada-boost-regressor
                - decision-tree-regressor
                - extra-tree-regressor
                - linear-svr
                - svr
                - passive-agressive-regressor
                - sgd-regressor
                - gradient-boosting-regressor
                - random-forest-regressor
                - xgb-regressor
                - catboost-regressor
                - sgd-regressor
                - gradient-boosting-regressor
                - random-forest-regressor
                - xgb-regressor
                - catboost-regressor
                - lightgbm-regressor
                - elasticnet-regressor
                - dnn-regressor
                - elliptic-envelope
                - one-class-svm
                - isolation-forest
                - local-outlier-factor
                - prophet
                - knn-classifier
                - ada-boost-classifier
                - bernoulli-nb
                - decision-tree-classifier
                - extra-tree-classifier
                - linear-svc
                - svc
                - passive-aggressive-classifier
                - sgd-classifier
                - logistic-regression
                - gradient-boosting-classifier
                - random-forest-classifier
                - xgboost-classifier
                - ridge-classifier
                - quadratic-discriminant
                - linear-discriminant
                - lightgbm-classifier
                - catboost-classifier
                - stacking-ensemble
                - none
                type: string
              bestModel:
                description: The Best model name.
                type: string
              bestModelScore:
                description: The Best model score, so far.
                type: number
              conditions:
                description: This is the set of partition levels Represents the latest
                  available observations of a study state.
                items:
                  description: StudyCondition describes the state of a StudyName.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition.
                      type: string
                    reason:
                      description: The reason for the condition's last transition.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, AutoScaler.
                      type: string
                    type:
                      description: Type of study condition.
                      type: string
                  type: object
                type: array
              endTime:
                description: The study end time.
                format: date-time
                type: string
              failedTestingModels:
                description: models failed testing.
                format: int32
                type: integer
              failedTrainingModels:
                description: models that failed during training.
                format: int32
                type: integer
              lastError:
                default: ""
                description: Last error
                type: string
              lastModelID:
                description: the last model id generated for this study
                format: int64
                type: integer
              models:
                description: Total models created for the study
                format: int32
                type: integer
              observedGeneration:
                description: ObservedGeneration is the Last generation that was acted
                  on
                format: int64
                type: integer
              phase:
                default: Pending
                description: The phase of the study
                type: string
              profileUri:
                description: A reference to the profile uri which were produce during
                  processing
                type: string
              progress:
                description: Study Progress in precent, the progress takes into account
                  the different stages of the study.
                format: int32
                type: integer
              reportName:
                description: The study report name
                type: string
              startTime:
                description: Study start time
                format: date-time
                type: string
              testDataset:
                description: TestDatasetLocation is the location of the test dataset
                  used to test this model
                properties:
                  bucketName:
                    default: ""
                    description: Bucketname is the name of the bucket
                    type: string
                  connectionName:
                    default: ""
                    description: ConnectionName is the name of the connection to access
                      the database
                    type: string
                  database:
                    default: ""
                    description: Database , the database.
                    type: string
                  path:
                    default: ""
                    description: Path to the full data file (e.g. csv file).
                    type: string
                  sql:
                    default: ""
                    description: SQL statement, in case we choose the view type
                    type: string
                  table:
                    default: ""
                    description: Sql or table or topic name.
                    type: string
                  topic:
                    default: ""
                    description: Topic is the name of the topic in case of streaming
                    type: string
                  type:
                    default: object
                    description: data location type is the type of the data location
                    type: string
                type: object
              testedModels:
                description: Tested models
                format: int32
                type: integer
              testingEndTime:
                description: Represents time when the study reached a successful complete
                  or failure phase. It is not guaranteed to
                format: date-time
                type: string
              testingModels:
                description: models in testing
                format: int32
                type: integer
              testingRows:
                description: TestingRows is the amount of rows in testing
                format: int32
                type: integer
              testingStartTime:
                description: Start of the testing phase
                format: date-time
                type: string
              trainDataset:
                description: TrainDatasetLocation is the location of the train dataset
                properties:
                  bucketName:
                    default: ""
                    description: Bucketname is the name of the bucket
                    type: string
                  connectionName:
                    default: ""
                    description: ConnectionName is the name of the connection to access
                      the database
                    type: string
                  database:
                    default: ""
                    description: Database , the database.
                    type: string
                  path:
                    default: ""
                    description: Path to the full data file (e.g. csv file).
                    type: string
                  sql:
                    default: ""
                    description: SQL statement, in case we choose the view type
                    type: string
                  table:
                    default: ""
                    description: Sql or table or topic name.
                    type: string
                  topic:
                    default: ""
                    description: Topic is the name of the topic in case of streaming
                    type: string
                  type:
                    default: object
                    description: data location type is the type of the data location
                    type: string
                type: object
              trainedModels:
                description: models that were successful during training
                format: int32
                type: integer
              trainingDataHash:
                description: Sha 256 of the data sig
                properties:
                  testingHash:
                    default: ""
                    description: Testing hash is a sha 256 of the testing data.
                    type: string
                  trainingHash:
                    default: ""
                    description: Training
                    type: string
                  validationHash:
                    default: ""
                    description: Pointer to the validation
                    type: string
                type: object
              trainingEndTime:
                description: End of the training phase.
                format: date-time
                type: string
              trainingModels:
                description: models which are currently training or testing.
                format: int32
                type: integer
              trainingRows:
                description: TrainingRows is the amount of rows in training
                format: int32
                type: integer
              trainingStartTime:
                description: Start of the training phase
                format: date-time
                type: string
              triggeredBy:
                description: What triggered the run
                enum:
                - on-demand
                - on-schedule
                - on-new-data
                - on-github-event
                - on-concept-drift
                - on-pref-degradation
                type: string
              validationDataset:
                description: ValidationDatasetLocation is the location of the dataset
                  used for validation
                properties:
                  bucketName:
                    default: ""
                    description: Bucketname is the name of the bucket
                    type: string
                  connectionName:
                    default: ""
                    description: ConnectionName is the name of the connection to access
                      the database
                    type: string
                  database:
                    default: ""
                    description: Database , the database.
                    type: string
                  path:
                    default: ""
                    description: Path to the full data file (e.g. csv file).
                    type: string
                  sql:
                    default: ""
                    description: SQL statement, in case we choose the view type
                    type: string
                  table:
                    default: ""
                    description: Sql or table or topic name.
                    type: string
                  topic:
                    default: ""
                    description: Topic is the name of the topic in case of streaming
                    type: string
                  type:
                    default: object
                    description: data location type is the type of the data location
                    type: string
                type: object
              validationRows:
                description: Validation row contain the number of validation rows
                  for cases that we have validation.
                format: int32
                type: integer
              waitingToTestModels:
                description: models waiting testing
                format: int32
                type: integer
              waitingToTrain:
                description: models waiting for a trainer
                format: int32
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
